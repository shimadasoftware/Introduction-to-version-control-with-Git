# <img src="https://github.com/shimadasoftware/Introduction-to-version-control-with-Git/assets/73977456/801ea14c-dd83-46bb-ab5b-d229a151bc5c" alt="Italian Trulli" style="width:25px;height:25px;"> Modulo 4: Edici√≥n de c√≥digo mediante creaci√≥n de ramas y combinaci√≥n en Git 

**¬©** Copyright es reservado para al reto GitHub Universe Cloud Skills de la plataforma Microsoft Learn.

[![Tiempo](https://img.shields.io/badge/Tiempo-50%20minutos-blue.svg)](https://learn.microsoft.com/es-mx/training/paths/intro-to-vc-git/)

## Objetivo

Aumente sus conocimientos de Git aprendiendo a mantener el c√≥digo independiente en ramas y a combinarlas despu√©s.

## Requisitos previos

Conocimientos b√°sicos de c√≥mo trabajar con Git, entre los que se incluyen:

- T√©rminos como repositorio, √°rbol de trabajo e √≠ndice
- Creaci√≥n de repositorios
- Almacenamiento provisional y confirmaci√≥n de cambios
- Restablecimiento y reversi√≥n de errores simples
- Clonaci√≥n de repositorios
- Solicitudes de incorporaci√≥n de cambios
- Guardado provisional de cambios
- Inserci√≥n de cambios y actualizaci√≥n del repositorio mediante extracci√≥n

## Introduci√≥n

Imagine que es un nuevo desarrollador de software en una empresa que escribe software de avi√≥nica para l√≠neas a√©reas comerciales. El control de calidad es cr√≠tico y los desarrolladores trabajan en equipos peque√±os que usan Git para el control de versiones. Ya sabe algo sobre Git. Lo ha usado para realizar un seguimiento de los cambios, corregir errores y colaborar con otros desarrolladores a trav√©s de un repositorio compartido y solicitudes de incorporaci√≥n de cambios. Sin embargo, sabe que Git todav√≠a tiene mucho m√°s que ofrecer, y eso le entusiasma.

Ya ha creado un peque√±o sitio web que usted y sus amigos pueden usar para practicar con Git compartiendo fotograf√≠as de sus gatos. Ha reclutado a un par de amigos que son desarrolladores de software para que le ayuden.

A medida que progresa el proyecto, desea facilitar la colaboraci√≥n con sus amigos, para poder trabajar en las caracter√≠sticas del sitio web sin conflictos ni esfuerzos en vano.

En este m√≥dulo, aprender√° qu√© ramas hay en Git, c√≥mo usarlas para el desarrollo y c√≥mo combinarlas, incluida la resoluci√≥n de los conflictos de las combinaciones.

## Objetivos de aprendizaje

En este m√≥dulo, aprender√° a realizar las tareas siguientes:

- Trabajar con las ramas en Git
- Crear ramas y cambiar de una a otra
- Combinar ramas
- M√°s informaci√≥n sobre t√©cnicas b√°sicas para resolver conflictos de combinaci√≥n

### Ramas en Git

Es un desarrollador web que intenta aprender m√°s cosas sobre Git por motivos laborales. Ha creado un sitio web HTML y CSS sencillo que presenta fotos de gatos para poner en pr√°ctica sus aptitudes de Git y ha trabajado en √©l con sus amigos, Alice y Bob.

A medida que el proyecto avanza, se da cuenta de que quiere que todos puedan trabajar en m√°s de una tarea a la vez sin interponerse en la forma de trabajar de otra persona. Necesita mantener por separado el trabajo de todos para que el nuevo desarrollo no interfiera con las correcciones de errores existentes. En Git, las ramas facilitan este tipo de colaboraci√≥n.

El trabajo que se hace en una rama no se tiene que compartir, y tampoco interfiere con el trabajo realizado en otras ramas. Las ramas le permiten mantener las confirmaciones relacionadas con cada tema juntas y aisladas de otro trabajo, por lo que los cambios realizados en un tema son f√°ciles de revisar y supervisar.

El desarrollo de software moderno se realiza casi por completo en ramas. El objetivo es mantener limpia la rama principal hasta que el trabajo est√© listo para su inserci√≥n en el repositorio. Despu√©s, inserte los cambios en la rama principal, o mejor a√∫n, env√≠e una solicitud de incorporaci√≥n de cambios para fusionar los cambios.

Una ventaja de Git con respecto a los sistemas de control de versiones (VCS) anteriores es que, con Git, la creaci√≥n de una rama es muy r√°pida; equivale a escribir un hash de 40 caracteres en un archivo en .git/heads. La conmutaci√≥n de ramas tambi√©n es r√°pida, ya que Git almacena archivos completos y los descomprime en lugar de intentar reconstruirlos a partir de listas de cambios. La combinaci√≥n en Git no es tan simple, pero es sencilla y a menudo totalmente autom√°tica.

Veamos qu√© son las ramas, c√≥mo se usan y c√≥mo funcionan.

### Estructura y nomenclatura de las ramas

Una rama es simplemente una cadena de confirmaciones que se ramifica a partir de la l√≠nea principal de desarrollo, como una rama de un √°rbol.

Si va a cambiar a Git desde otro VCS, es posible que est√© acostumbrado a una terminolog√≠a algo distinta. La subversi√≥n del VCS nombra su rama predeterminada como trunk, mientras que Git la denomina master. Puede cambiar el nombre de la rama predeterminada de la misma forma que puede hacerlo con cualquier otra rama. En este m√≥dulo, la rama predeterminada se denomina main.

Normalmente, una rama comienza con una confirmaci√≥n en la rama predeterminada; en este caso, en main. A medida que se agregan confirmaciones, la rama desarrolla una cadena de historial independiente. Finalmente, los cambios de la rama se vuelven a combinar en main. En este m√≥dulo, aprender√° a realizar confirmaciones en una rama y a combinarlas en la rama main.

Supongamos que crea una rama a partir de la rama main. Aqu√≠ se muestra c√≥mo visualizar lo que sucede:

![image](./img/modulo%204%20img%2001.png)

Cada letra may√∫scula del diagrama representa una confirmaci√≥n. Las ramas reciben nombres tales como add-authentication y fix-css-bug, y pueden tener sus propias ramas. El objetivo final es dejar que los desarrolladores hagan lo que tienen que hacer sin interferir unos con otros y terminar con una rama principal que represente los mejores esfuerzos de todos los implicados.

### Creaci√≥n y modificaci√≥n de ramas (rama de Git y desprotecci√≥n de Git)

Una raz√≥n com√∫n para crear una rama es realizar cambios en una caracter√≠stica existente. Una rama con este fin se denominar√≠a habitualmente rama puntual o rama de caracter√≠sticas.

Puede crear una rama con el comando git branch. Cambie entre las ramas con el comando git checkout.

Ha identificado checkout como una forma de reemplazar archivos en el √°rbol de trabajo obteni√©ndolos del √≠ndice. Sin rutas de acceso en la lista de argumentos, checkout actualiza todo lo que hay en el √°rbol de trabajo y el √≠ndice para que coincida con la confirmaci√≥n especificada (en este caso, el encabezado de la rama).

### Combinaci√≥n de ramas (combinaci√≥n de Git)

Una vez que haya finalizado alg√∫n trabajo en una rama, quiz√° una caracter√≠stica o una correcci√≥n de errores, querr√° combinar la rama de nuevo con la rama principal. Puede usar el comando git merge para combinar una rama espec√≠fica con la rama actual.

Por ejemplo, si estuviera trabajando en una rama llamada my-feature, el flujo de trabajo ser√≠a similar al del siguiente ejemplo:

````
# Switch back to the main branch
git checkout main

# Merge my-feature branch into main
git merge my-feature
````

Despu√©s de usar estos comandos y resolver los conflictos de combinaci√≥n (los describiremos m√°s adelante en este m√≥dulo), todos los cambios de la rama my-feature se encontrar√≠an en main.

### Ejercicio: Creaci√≥n de una rama como Alice

Su amiga desarrolladora Alice desea agregar algunos estilos CSS para dar estilo a las fotos de gatos del sitio web. Alice desea realizar este trabajo en su propia rama.

Para que podamos asumir el rol de Alice, debe hacer algo de trabajo para configurar un repositorio vac√≠o que todos compartan y, despu√©s, agregar algunos archivos.

#### Creaci√≥n de un repositorio vac√≠o compartido

1. Cree un directorio denominado Shared.git para que contenga el repositorio vac√≠o:

````
mkdir Shared.git
cd Shared.git
````
![image](./img/modulo%204%20img%2002.png)

2. Ahora, ejecute el comando siguiente para crear un repositorio vac√≠o en el directorio compartido:

````
git init --bare
````
![image](./img/modulo%204%20img%2003.png)

üìÅ Shared.git

  > üìÅ branches (vac√≠a)

  üìÑ config

  üìÑ description

  üìÑ HEAD

  > üìÅ hooks

    üìÑ applypatch-msg.sample

    üìÑ commit-msg.sample

    üìÑ fsmonitor-watchman.sample

    üìÑ post-update.sample

    üìÑ pre-applypatch.sample

    üìÑ pre-commit.sample

    üìÑ pre-merge-commit.sample

    üìÑ prepare-commit-msg.sample

    üìÑ pre-push.sample

    üìÑ pre-rebase.sample

    üìÑ pre-receive.sample

    üìÑ push-to-checkout.sample

    üìÑ update.sample

  > üìÅ info

    üìÑ exclude

  > üìÅ objects

    > üìÅ info (vac√≠a)

    > üìÅ pack (vac√≠a)

  > üìÅ refs

    > üìÅ heads (vac√≠a)

    > üìÅ tags (vac√≠a)

3. Establezca el nombre de la rama predeterminada del nuevo repositorio. Para realizar este paso, puede cambiar la rama HEAD para que apunte a otra rama; en este caso, la rama main:

````
git symbolic-ref HEAD refs/heads/main
````
![image](./img/modulo%204%20img%2004.png)

#### Clonaci√≥n del repositorio compartido para Bob

1. Suba un nivel a partir de este directorio y cree un directorio para que Bob almacene su repositorio:

````
cd ..
mkdir Bob
````
![image](./img/modulo%204%20img%2005.png)

2. Clone y configure el repositorio de Bob:

````
cd Bob
git clone ../Shared.git .
git config user.name Bob
git config user.email bob@contoso.com
git symbolic-ref HEAD refs/heads/main
````
![image](./img/modulo%204%20img%2006.png)

#### Incorporaci√≥n de archivos base

Como paso final de configuraci√≥n, se agregar√°n los archivos de sitio web base y se insertar√°n en el repositorio compartido. En el caso de estos comandos, todav√≠a estamos trabajando en el directorio Bob.

1. Cree algunos archivos mediante el comando touch de Linux, agr√©guelos al "stage" y conf√≠rmelos mediante Git:

````
touch index.html
mkdir Assets
touch Assets/site.css
git add .
git commit -m "Create empty index.html and site.css files"
````
![image](./img/modulo%204%20img%2007.png)

![image](./img/modulo%204%20img%2008.png)

2. Ahora agregue HTML al archivo con el editor de c√≥digo de Cloud Shell. Puede abrir el editor mediante la ejecuci√≥n del comando code. Abra index.html en el editor en l√≠nea; para ello, introduzca code index.html en el s√≠mbolo del sistema del terminal:

````
code index.html
````

3. Pegue este c√≥digo HTML:

````
<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <title>Our Feline Friends</title>
    <link rel="stylesheet" href="CSS/site.css">
  </head>
  <body>
    <nav><a href="./index.html">home</a></nav>
    <h1>Our Feline Friends</h1>
    <p>Eventually we will put cat pictures here.</p>
    <footer><hr>Copyright (c) 2021 Contoso Cats</footer>
  </body>
</html>
````
![image](./img/modulo%204%20img%2009.png)

![image](./img/modulo%204%20img%2010.png)

Guarde el archivo y cierre el editor. Puede seleccionar los puntos suspensivos "‚Ä¶" de la esquina derecha del editor o usar el m√©todo abreviado de teclado (CTRL+S en Windows y Linux, o bien Cmd+S en macOS).

4. Cambie al directorio Assets (Recursos) y abra site.css en el editor:

````
cd Assets
code site.css
````
![image](./img/modulo%204%20img%2011.png)

5. Agregue el siguiente CSS al archivo:

````
h1, h2, h3, h4, h5, h6 { font-family: sans-serif; }
body { font-family: serif; background-color: #F0FFF8; }
nav, footer { background-color: #C0D8DF; }
````
![image](./img/modulo%204%20img%2012.png)

Guarde el archivo y cierre el editor.

6. Agregue el siguiente CSS al archivo:

````
cd ..
git add .
git commit -m "Add simple HTML and stylesheet"
git push --set-upstream origin main
````
![image](./img/modulo%204%20img%2013.png)

Compruebe los resultados. Si ve una advertencia similar a la de este ejemplo, no se preocupe. Esta advertencia simplemente informa a los usuarios de un cambio en los comportamientos predeterminados de Git.

````
warning: push.default is unset; its implicit value has changed in
Git 2.0 from 'matching' to 'simple'. To squelch this message
and maintain the traditional behavior, use:

  git config --global push.default matching

To squelch this message and adopt the new behavior now, run:

  git config --global push.default simple

When push.default is set to 'matching', git will push local branches
to the remote branches that already exist with the same name.

Since Git 2.0, Git defaults to the more conservative 'simple'
behavior, which only pushes the current branch to the corresponding
remote branch that 'git pull' uses to update the current branch.

See 'git help config' and search for 'push.default' for further information.
(the 'simple' mode was introduced in Git 1.7.11. Use the similar mode
'current' instead of 'simple' if you sometimes use older versions of Git)
````

Si quiere asegurarse de que no vuelve a ver esta advertencia, puede ejecutar este comando:

````
git config --global push.default simple
````

Compruebe la salida de este indicador de √©xito:

````
Counting objects: 9, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (9/9), 953 bytes | 953.00 KiB/s, done.
Total 9 (delta 0), reused 0 (delta 0)
To ../Shared.git
 * [new branch]      main -> main
````

#### Creaci√≥n de una rama para Alice

Alice quiere crear una rama puntual denominada add-style para realizar su trabajo. Vamos a asumir el rol de Alice y, despu√©s, crearemos la rama y agregaremos c√≥digo a esta rama.

1. Suba un nivel a partir de este directorio y cree un directorio para la copia del repositorio de Alice:

````
cd ..
mkdir Alice
````
![image](./img/modulo%204%20img%2014.png)

2. Clone el repositorio de Alice y, a continuaci√≥n, config√∫relo:

````
cd Alice
git clone ../Shared.git .
git config user.name Alice
git config user.email alice@contoso.com
````
![image](./img/modulo%204%20img%2015.png)

3. Ahora tiene una copia actual del repositorio. Puede enumerar el contenido del archivo y ejecutar git status para confirmar el estado del repositorio.

````
ls
git status
````
![image](./img/modulo%204%20img%2016.png)

![image](./img/modulo%204%20img%2017.png)

4. Ejecute el comando git branch para crear una rama denominada add-style. Luego, ejecute el comando git checkout para cambiar a esa rama (de este modo, la convierte en la rama actual).

````
git branch add-style
git checkout add-style
````
![image](./img/modulo%204%20img%2018.png)

5. En el directorio Alice/Assets (Alice/Recursos), abra site.css. Agregue la siguiente definici√≥n de clase CSS al final del archivo:

````
.cat { max-width: 40%; padding: 5 }
````
![image](./img/modulo%204%20img%2019.png)
![image](./img/modulo%204%20img%2020.png)

Guarde los cambios en el archivo y cierre el editor.

6. Confirme el cambio:

````
git commit -a -m "Add style for cat pictures"
````
![image](./img/modulo%204%20img%2021.png)

7. En este momento, Alice quiere poner su estilo a disposici√≥n de todos los dem√°s, para que cambien a main de nuevo y realicen una incorporaci√≥n de cambios por si alguna otra persona ha realizado cambios:

````
git checkout main
git pull
````
![image](./img/modulo%204%20img%2022.png)

Guarde los cambios en el archivo y cierre el editor.

8. La salida indica que la rama main est√° actualizada (es decir, main del equipo de Alice coincide con main en el repositorio compartido). Por tanto, Alice combina la rama add-style con la rama main mediante la ejecuci√≥n del comando git merge --ff-only para realizar una combinaci√≥n de avance r√°pido. Luego, Alice inserta la main de su repositorio en el compartido.
   
````
git merge --ff-only add-style
git push
````
![image](./img/modulo%204%20img%2023.png)

En este caso, la combinaci√≥n de avance r√°pido no era estrictamente necesaria porque la rama main no ten√≠a ning√∫n cambio y Git habr√≠a combinado los cambios de todos modos. Sin embargo, usar la marca --ff only es una buena pr√°ctica porque se produce un error en una combinaci√≥n de --ff-onlysi main ha cambiado.

### Ejercicio: Combinaci√≥n de la rama de Bob

Aunque Alice est√° trabajando en CSS para el sitio web, Bob est√° trabajando en casa, completamente ajeno al trabajo que est√° realizando Alice. No hay problema con esta disposici√≥n porque ambos usan ramas. Bob decide realizar algunos cambios por su cuenta.

#### Creaci√≥n de una rama para Bob

1. Vuelva al directorio Bob y ejecute el comando siguiente para crear una rama denominada add-cat. Use la popular opci√≥n checkout -b para crear la rama y cambiar a ella con un solo comando.

````
cd ../Bob
git checkout -b add-cat
````
![image](./img/modulo%204%20img%2024.png)

2. Descargue el archivo ZIP que contiene algunos recursos del sitio web. A continuaci√≥n, descomprima los archivos de recursos:

````
wget https://github.com/MicrosoftDocs/mslearn-branch-merge-git/raw/main/git-resources.zip
unzip git-resources.zip
````
![image](./img/modulo%204%20img%2025.png)
![image](./img/modulo%204%20img%2026.png)
![image](./img/modulo%204%20img%2027.png)

3. Ahora, mueva el archivo bobcat2-317x240.jpg al directorio Assets (Recursos) de Bob. Elimine los dem√°s archivos. Descargar√° los archivos y los volver√° a usar m√°s adelante.

````
mv bobcat2-317x240.jpg Assets/bobcat2-317x240.jpg
rm git-resources.zip
rm bombay-cat-180x240.jpg
````
![image](./img/modulo%204%20img%2028.png)
![image](./img/modulo%204%20img%2029.png)
![image](./img/modulo%204%20img%2030.png)

4. A continuaci√≥n, abra el archivo index.html y reemplace la l√≠nea que dice "Eventually we will put cat pictures here" (al final se incluir√°n aqu√≠ las im√°genes de gatos) por la siguiente l√≠nea:

````
<img src="Assets/bobcat2-317x240.jpg" />
````
![image](./img/modulo%204%20img%2031.png)
![image](./img/modulo%204%20img%2032.png)

Guarde el archivo y cierre el editor.

5. Ha realizado dos cambios en la rama add-cat de Bob: se ha agregado un archivo y se ha modificado otro. Ejecute git status para volver a comprobar los cambios:

````
git status
````
![image](./img/modulo%204%20img%2033.png)

6. Despu√©s, ejecute los comandos siguientes para agregar el nuevo archivo del directorio Assets (Recursos) al √≠ndice y confirmar todos los cambios:

````
git add .
git commit -a -m "Add picture of Bob's cat"
````
![image](./img/modulo%204%20img%2034.png)

7. Bob ahora realiza la misma acci√≥n que antes hizo Alice. Bob vuelve a cambiar a la rama main y ejecuta una incorporaci√≥n de cambios para ver si ha cambiado algo:

````
git checkout main
git pull
````
![image](./img/modulo%204%20img%2035.png)

Compruebe los resultados. Esta vez, el resultado indica que los cambios se han realizado en la rama main en el repositorio compartido (el resultado de las inserciones de Alice). Tambi√©n indica que el cambio extra√≠do de main en el repositorio compartido se ha combinado con main en el repositorio de Bob:

````
remote: Counting objects: 4, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 4 (delta 1), reused 0 (delta 0)
Unpacking objects: 100% (4/4), done.
From D:/Labs/Git/Bob/../Shared
   e81ae09..1d2bfea  main     -> origin/main
Updating e81ae09..1d2bfea
Fast-forward
 Assets/site.css | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)
````

8. A continuaci√≥n, Bob combina su rama en la rama para que de su repositorio tenga sus cambios main y main los de Alice. A continuaci√≥n, Bob env√≠a los cambios de main del equipo de la rama main del repositorio compartido:

````
git merge add-cat --no-edit
git push
````
![image](./img/modulo%204%20img%2036.png)

Bob no us√≥ la marca --ff-only porque sab√≠an que main hab√≠a cambiado. Una combinaci√≥n de solo avance r√°pido habr√≠a producido un error.

#### Sincronizaci√≥n de los repositorios

En este momento, Bob tiene un repositorio actualizado, pero Alice no. Alice tiene que ejecutar git pull en el repositorio compartido para asegurarse de que tiene la versi√≥n √≥ptima y m√°s reciente del sitio.

Ejecute los comandos siguientes para sincronizar el repositorio de Alice con el repositorio compartido:

````
cd ../Alice
git pull
````
![image](./img/modulo%204%20img%2037.png)

T√≥mese unos minutos para comprobar que el repositorio de Alice y el repositorio de Bob est√°n sincronizados. Cada repositorio debe tener un archivo JPG en el directorio Assets (Recursos) y un elemento <img> declarado en el archivo index.html. El archivo site.css de la carpeta Assets (Recursos) de cada repositorio debe contener una l√≠nea que defina una hoja de estilo CSS llamada cat. Alice agreg√≥ este estilo cuando realiz√≥ los cambios.

Si abre index.html en un explorador, ver√° la imagen siguiente:

![image](./img/modulo%204%20img%2038.png)

### Ejercicio: Resoluci√≥n de conflictos de combinaci√≥n

A veces, independientemente de lo bien que lo planee todo, las cosas salen mal. Imagine que dos desarrolladores est√°n trabajando en el mismo archivo del proyecto al mismo tiempo. El primer desarrollador env√≠a sus cambios a la rama main del repositorio del proyecto sin ning√∫n problema. Cuando el segundo desarrollador intenta enviar los cambios, Git indica que hay un conflicto de combinaci√≥n. El archivo que el segundo desarrollador est√° intentando modificar ya no est√° actualizado con los cambios o la versi√≥n de archivo m√°s recientes. La versi√≥n de archivo debe estar actualizada antes de que se puedan combinar los cambios del segundo desarrollador. Una de las principales preocupaciones de los desarrolladores que usan el control de versiones es un conflicto de combinaci√≥n.

Pueden producirse conflictos como este, por lo que debe saber c√≥mo tratarlos. La buena noticia es que Git ofrece soluciones para tratar los conflictos de combinaci√≥n.

#### Creaci√≥n de ramas para Alice y Bob

Comencemos por crear una rama para Alice y otra para Bob. Ambos amigos desarrolladores est√°n actualizando los archivos del repositorio del proyecto al mismo tiempo. No son conscientes de los cambios que realiza el otro porque est√°n realizando las actualizaciones en sus ramas locales.

1. Aseg√∫rese de que se encuentra en el directorio Alice y, a continuaci√≥n, cree una rama denominada add-cat para que Alice trabaje en:

````
git checkout -b add-cat
````
![image](./img/modulo%204%20img%2039.png)

2. Cambie al directorio Bob y, despu√©s, cree una rama denominada style-cat para que Bob trabaje en:

````
cd ../Bob
git checkout -b style-cat
````
![image](./img/modulo%204%20img%2040.png)

Ahora vamos a realizar algunos cambios en las ramas.

#### Realizaci√≥n de un cambio como Alice

Para empezar, suponga que tiene el rol de Alice y realice un cambio en la p√°gina principal del sitio web. Reemplace la imagen del gato de Bob por una fotograf√≠a del de Alice.

1. Vuelva a cambiar al directorio Alice:

````
cd ../Alice
````
![image](./img/modulo%204%20img%2041.png)

2. Si no ha descargado anteriormente los recursos, descargue el archivo ZIP que contiene los recursos que complementan esta lecci√≥n. Descomprima los archivos de recursos:

````
wget https://github.com/MicrosoftDocs/mslearn-branch-merge-git/raw/main/git-resources.zip
unzip git-resources.zip
````
![image](./img/modulo%204%20img%2042.png)
![image](./img/modulo%204%20img%2043.png)
![image](./img/modulo%204%20img%2044.png)

3. Mueva el archivo bombay-cat-180x240.jpg al directorio Assets (Recursos) de Alice y elimine los dem√°s archivos:

````
mv bombay-cat-180x240.jpg Assets/bombay-cat-180x240.jpg
rm git-resources.zip
rm bobcat2-317x240.jpg
````
![image](./img/modulo%204%20img%2045.png)
![image](./img/modulo%204%20img%2046.png)
![image](./img/modulo%204%20img%2047.png)

4. Abra el archivo index.html y, a continuaci√≥n, reemplace esta instrucci√≥n (que usa una de las im√°genes del gato de Bob):

![image](./img/modulo%204%20img%2048.png)

````
<img src="Assets/bobcat2-317x240.jpg" />
````

Con esta instrucci√≥n (que usa una de las im√°genes del gato de Alice):

````
<img class="cat" src="Assets/bombay-cat-180x240.jpg" />
````
![image](./img/modulo%204%20img%2049.png)

Guarde el archivo y cierre el editor.

5. Ahora, ejecute los siguientes comandos de Git para enviar los cambios al repositorio del proyecto. En primer lugar, vamos a agregar las confirmaciones realizadas en la carpeta Assets (Recursos). Despu√©s, volveremos a la rama main y ejecutaremos git pull para asegurarnos de que no haya cambiado nada. Por √∫ltimo, vamos a combinar la rama local add-cat con la rama main y, despu√©s, enviaremos los cambios al repositorio.

````
git add Assets
git commit -a -m "Add picture of Alice's cat"
git checkout main
git pull
git merge --ff-only add-cat
git push
````
![image](./img/modulo%204%20img%2050.png)

Por √∫ltimo, es necesario confirmar que el env√≠o de cambios se ha realizado correctamente.

#### Realizaci√≥n de un cambio como Bob

Sin saber lo que est√° haciendo Alice, Bob observa que el √∫ltimo env√≠o de cambios de Alice ha agregado un estilo CSS denominado cats al archivo site.css para el repositorio. Por tanto, Bob decide aplicar esa clase a la imagen de su gato.

1. Vuelva al directorio Bob:

````
cd ../Bob
````
![image](./img/modulo%204%20img%2051.png)

2. Abra el archivo index.html . Reemplace la instrucci√≥n que usa la imagen del gato de Bob por la siguiente instrucci√≥n que agrega un atributo class="cat" al elemento <img>:

````
<img class="cat" src="Assets/bobcat2-317x240.jpg" />
````
![image](./img/modulo%204%20img%2052.png)
![image](./img/modulo%204%20img%2053.png)

Guarde el archivo y cierre el editor.

3. Ahora, ejecute los siguientes comandos de Git para sincronizar los cambios en el repositorio del proyecto, como hizo para las actualizaciones en el repositorio de Alice. Confirme el cambio, cambie a la rama main, ejecute git pull y, a continuaci√≥n, combine el cambio de estilo:

````
git commit -a -m "Style Bob's cat"
git checkout main
git pull
git merge style-cat
````
![image](./img/modulo%204%20img%2054.png)

Y ah√≠ est√°: el temido conflicto de combinaci√≥n. Dos personas han cambiado la misma l√≠nea en el mismo archivo. Git detecta el conflicto y notifica un error de combinaci√≥n autom√°tica. Git no tiene forma de saber si el atributo src del elemento <img> debe hacer referencia a los archivos bobcat2-317x240.jpg o bombay-cat-180x240.jpg.

````
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.
````

La salida de Git identifica el archivo index.html como origen del conflicto.

La pregunta ahora es: ¬øQu√© puede hacer Bob?

#### Resoluci√≥n del conflicto de combinaci√≥n

Bob tiene pocas opciones en este momento. Bob puede realizar una de estas acciones:

- Ejecute el comando git merge --abort para restaurar la rama main a su estado anterior a la combinaci√≥n intentada. Ejecute el comando git pull para obtener los cambios de Alice. A continuaci√≥n, cree una rama, realice los cambios y combine su rama con la rama main. Por √∫ltimo, env√≠an los cambios.

- Ejecute el comando git reset --hard para volver a la ubicaci√≥n en la que estaban antes de que iniciaran la combinaci√≥n.

- Resuelva el conflicto manualmente mediante la informaci√≥n que Git inserta en los archivos afectados.

Los desarrolladores parecen preferir la √∫ltima opci√≥n. Cuando Git detecta un conflicto en las versiones del contenido, inserta ambas versiones del contenido en el archivo. Git usa un formato especial para ayudarle a identificar y resolver el conflicto: corchetes angulares de apertura <<<<<<<, guiones dobles (signos igual) ======= y corchetes angulares de cierre >>>>>>>. El contenido situado encima de la l√≠nea de guiones ======= muestra los cambios en la rama. El contenido que se encuentra debajo de la l√≠nea de separaci√≥n muestra la versi√≥n del contenido de la rama en la que intenta realizar la combinaci√≥n.

Este es el aspecto ahora del archivo index.html del repositorio de Bob. Tenga en cuenta el formato especial que rodea el contenido con conflictos:

````
<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <title>Our Feline Friends</title>
    <link rel="stylesheet" href="CSS/site.css">
  </head>
  <body>
    <nav><a href="./index.html">home</a></nav>
    <h1>Our Feline Friends</h1>
    <<<<<<< HEAD
    <img class="cat" src="Assets/bombay-cat-180x240.jpg">
    =======
    <img class="cat" src="Assets/bobcat2-317x240.jpg">
    >>>>>>> style-cat
    <footer><hr>Copyright (c) 2021 Contoso Cats</footer>
  </body>
</html>
````
![image](./img/modulo%204%20img%2055.png)

Vamos a resolver el conflicto de combinaci√≥n mediante la edici√≥n del archivo index.html. Dado que este conflicto de combinaci√≥n se corrige r√°pidamente, realizar√° el cambio directamente en la rama main, aunque todav√≠a est√© en el directorio Bob.

1. Abra el archivo index.html y, a continuaci√≥n, elimine las l√≠neas de formato especiales. No quite ninguna otra instrucci√≥n.

````
<<<<<<< HEAD
=======
>>>>>>> style-cat
````
![image](./img/modulo%204%20img%2056.png)

Guarde el archivo y cierre el editor.

El archivo index.html ahora tiene dos elementos <img>: uno para la imagen del gato de Bob y otro para la del gato de Alice.

2. Ejecute los comandos siguientes para confirmar el cambio:

````
git add index.html
git commit -a -m "Style Bob's with two cats"
````
![image](./img/modulo%204%20img%2057.png)

El comando git add indica a Git que se ha resuelto el conflicto en el archivo index.html.

3. Env√≠e los cambios a la rama main en el repositorio remoto:

````
git push
````
![image](./img/modulo%204%20img%2058.png)

4. Ahora, sincronice los cambios con el repositorio de Alice:

````
cd ../Alice
git pull
````
![image](./img/modulo%204%20img%2059.png)

5. Por √∫ltimo, abra el archivo index.html de Alice y confirme que su versi√≥n tambi√©n tiene dos etiquetas <img> con im√°genes de gatos.

![image](./img/modulo%204%20img%2060.png)

### Prueba de conocimientos

1. ¬øCu√°l de las siguientes afirmaciones es verdadera sobre las ramas de Git?
   
    - El trabajo realizado en una rama no interfiere con el trabajo de otras ramas.
    
      ‚úÖ Correcto. El prop√≥sito de las ramas es aislar los cambios de una rama de los cambios realizados en otra rama hasta que est√© listo para combinar los cambios en ambas ramas juntas.
    
    - Una rama no puede tener ninguna otra rama que se extienda desde su l√≠nea de desarrollo.
    
      ‚ùå Incorrecto. El prop√≥sito de las ramas es poder aislar algunos cambios de otros cambios en el mismo proyecto. Git admite la posibilidad de agregar tantas ramas y subramas como requiera el proyecto.
    
    - La rama predeterminada de un repositorio de Git se denomina master, y este nombre de rama nunca se puede cambiar.
    
      ‚ùå Incorrecto. De forma predeterminada, Git asigna el nombre master a la rama predeterminada, pero puede cambiar el nombre de esta rama como lo har√≠a con cualquier otra.

2.  ¬øCu√°l de los siguientes comandos de Git crea una rama nueva y, a continuaci√≥n, cambia la ubicaci√≥n de trabajo a la nueva rama?
   
    - ````
      git branch my-new-branch
      git checkout my-new-branch
      ````
    
      ‚úÖ Correcto. Tambi√©n puede usar el comando git checkout -b my-new-branch para crear la rama y cambiar a ella en un solo paso.
    
    - ````
      git branch -new my-new-branch
      git checkout my-new-branch
      ````
    
      ‚ùå Incorrecto. Revise los par√°metros del comando git branch.

    - ````
      git branch -new my-new-branch
      git switch my-new-branch
      ````
    
      ‚ùå Incorrecto. Revise los par√°metros del comando git branch. El comando git switch es v√°lido, aunque no lo revisamos en este m√≥dulo. 
  
3. Supongamos que intenta combinar los cambios de la rama local en el repositorio del proyecto, pero Git devuelve un error de conflicto de la combinaci√≥n. ¬øQu√© comando se puede usar para restaurar la rama predeterminada (main) a su estado correcto?
  
    - git merge --cancel
    
      ‚ùå Incorrecto. La marca cancel no es un par√°metro reconocido para el comando git merge.
    
    - git merge --abort
    
      ‚úÖ Correcto. Este comando restaura la rama predeterminada (main) al estado en que se encontraba antes de intentar combinar los cambios.
    
    - git merge --reset
      
      ‚ùå Incorrecto. El comando git reset es v√°lido, pero este formato no es correcto. El formato correcto del comando es git reset --hard.
      
4. ¬øCu√°l de los siguientes ejemplos es una vista precisa de lo que Git podr√≠a mostrar para un conflicto de combinaci√≥n entre la rama my-penguins y la rama main? 
  
    - ````
      <img class="cat" src="images/panda.jpg">
      <img class="cat" src="images/peacock.jpg">
      <<<<<<< my-penguins
      <img class="cat" src="images/penguin.jpg">
      <img class="cat" src="images/platypus.jpg">
      <img class="cat" src="images/pony.jpg">
      >>>>>>> main
      <footer>Copyright 2021 - Perfect Pets</footer>
      ````
    
      ‚ùå Incorrecto. Eche un vistazo m√°s de cerca a los dem√°s ejemplos. Falta algo en este ejemplo.
    
    - ````
      <body>
        <img class="cat" src="images/panda.jpg">
        <img class="cat" src="images/peacock.jpg">
        <<<<<<< main
        <img class="cat" src="images/platypus.jpg">
        <img class="cat" src="images/pony.jpg">
        =======
        <img class="cat" src="images/penguin.jpg">
        >>>>>>> my-penguins
        <footer>Copyright 2021 - Perfect Pets</footer>
      </body>
      ````
    
      ‚ùå Incorrecto. Compruebe la ubicaci√≥n del contenido que tiene conflictos. Git debe mostrar los cambios entrantes encima del separador y el contenido existente en la rama main debajo de la l√≠nea.
          
    - ````
      <head><body>
        <img class="cat" src="images/panda.jpg">
        <img class="cat" src="images/peacock.jpg">
        <<<<<<< my-penguins
        <img class="cat" src="images/penguin.jpg">
        =======
        <img class="cat" src="images/platypus.jpg">
        <img class="cat" src="images/pony.jpg">
        >>>>>>> main
        <footer>Copyright 2021 - Perfect Pets</footer>
      </body></head>
      ````
    
      ‚úÖ Correcto. Git siempre muestra el archivo completo. Git usa corchetes angulares de apertura y cierre para rodear las secciones de contenido que tienen un conflicto. Git usa una l√≠nea de signos igual para separar dos versiones de contenido que entran en conflicto.
