# <img src="https://github.com/shimadasoftware/Introduction-to-version-control-with-Git/assets/73977456/801ea14c-dd83-46bb-ab5b-d229a151bc5c" alt="Italian Trulli" style="width:25px;height:25px;"> Modulo 3: Colaboraci칩n con Git 

**춸** Copyright es reservado para el curso Introducci칩n al Control de Versiones con Git.

[![Tiempo](https://img.shields.io/badge/Tiempo-39%20minutos-blue.svg)](https://learn.microsoft.com/es-mx/training/paths/intro-to-vc-git/)

## Introducci칩n

Imagine que es un nuevo desarrollador de software en una empresa que escribe software de avi칩nica para l칤neas a칠reas comerciales. El control de calidad es cr칤tico y los desarrolladores trabajan en equipos peque침os y usan Git para el control de versiones. Ya sabe algo sobre Git y lo ha usado localmente por su cuenta para realizar el seguimiento de los cambios y corregir errores. Pero sabe que el control de versiones resulta m치s 칰til para trabajar en el c칩digo con un equipo y quiere practicar un poco.

Ya ha creado un peque침o sitio web que usted y sus amigos pueden usar para practicar con Git compartiendo fotograf칤as de sus gatos. Ha reclutado a un par de amigos que son desarrolladores de software para que le ayuden.

Va a usar Git para colaborar y hacer un seguimiento de los cambios (y de qui칠n los hace), asegurarse de que no haya ning칰n error cuando dos usuarios modifiquen el mismo archivo y realizar copias de seguridad de todos los archivos de c칩digo fuente.

## Objetivos de aprendizaje

Objetivos de este m칩dulo:

- Clonaci칩n de un repositorio.
- Insertar cambios en un repositorio remoto.
- Guardado provisional de cambios.
- Incorporar los cambios de otros usuarios para actualizar un repositorio.

### Colaboraci칩n mediante un comando de incorporaci칩n de cambios

En su tiempo de ocio ha estado trabajando en un sitio web que hospeda fotos de gatos. Ha estado usando Git para el control de versiones, y es hora de invitar a colaboradores al proyecto. Durante una cena en su casa, su amiga y tambi칠n amante de los gatos, Alice, se ofrece a ayudarle a materializar su proyecto, y usted acepta encantado.

Alice primero debe hacer una copia del proyecto de Git. Luego es recomendable que Alice le env칤e sus cambios a medida que los realiza. En esta situaci칩n es donde destaca la naturaleza distribuida de Git. Con Git, dos o m치s usuarios pueden trabajar juntos en un proyecto sin miedo a sobrescribir el trabajo de los otros. Adem치s, puede comprobar el trabajo de Alice antes de combinarlo con el suyo. (Alice tiene talento, pero ning칰n desarrollador es perfecto. Conf칤e, pero compruebe)

En esta lecci칩n va a aprender a clonar un repositorio (tambi칠n denominado repo) para ponerlo a disposici칩n de otros usuarios. Tambi칠n aprender치 a usar una de las caracter칤sticas m치s importantes de Git: las solicitudes de incorporaci칩n de cambios.

#### Clonaci칩n de un repositorio (git clone)

En Git, **un repositorio se copia al clonarlo mediante el comando git clone**. Puede clonar un repositorio independientemente de d칩nde est칠 almacenado, siempre que tenga una direcci칩n URL o una ruta de acceso a la que apuntar.

git clone acepta rutas de acceso del sistema de archivos, rutas de acceso SSH (por ejemplo, git@example.com:alice/Cats; estar치 familiarizado con este formato si ha usado Rsync o SCP) o direcciones URL, normalmente una que empiece por file:, git: o ssh. Los distintos formatos se describen en la documentaci칩n de git clone. En Unix y Linux, la operaci칩n de clonaci칩n usa v칤nculos f칤sicos, as칤 que es r치pida y usa un espacio m칤nimo, ya que solo hay que copiar las entradas de directorio, no los archivos.

#### Repositorios remotos (git pull)

**Cuando Git clona un repositorio, crea una referencia al repositorio original, al que se llama remoto, mediante el nombre origin**. Configura el repositorio clonado de modo que incorpore o recupere datos del repositorio remoto. (Git tambi칠n puede enviar cambios. Va a obtener informaci칩n sobre el env칤o de cambios en Git m치s adelante en este m칩dulo). **origin es la ubicaci칩n predeterminada desde la que Git incorpora los cambios y a la que los env칤a**. **git pull copia los cambios del repositorio remoto en el local**. El comando git pull es muy eficaz, porque solo copia las confirmaciones y los objetos nuevos y luego los inserta en el 치rbol de trabajo.

Puede incorporar cambios de origin mediante el comando git pull. Resulta 칰til comparar git pull con otros m칠todos de copia de archivos. El comando scp copia todo. (scp es similar al comando cp de Unix, salvo que los archivos que se copian no tienen que estar en el mismo equipo). Si hay 10 000 archivos en el directorio remoto, scp los copia todos. Un programa m치s eficaz llamado Rsync examina todos los archivos de los directorios local y remoto y solo copia los que son diferentes. Rsync se suele usar para realizar copias de seguridad, pero tiene que aplicar hash a todos los archivos, a menos que tengan diferentes tama침os o fechas de creaci칩n.

Git solo examina las confirmaciones. Ya sabe cu치l es la 칰ltima confirmaci칩n que ha obtenido del repositorio remoto porque ha guardado la lista de confirmaciones. Luego, Git indica al equipo desde el que est치 copiando que env칤e todo lo que ha cambiado, incluidas las nuevas confirmaciones y los objetos a los que apuntan. Esos objetos y confirmaciones se agrupan en un archivo denominado paquete que se env칤a en un lote. Por 칰ltimo, Git actualiza el 치rbol de trabajo al desempaquetar todos los objetos que han cambiado y combinarlos (si fuera necesario) con las confirmaciones y los objetos del 치rbol de trabajo.

Git solo incorpora o env칤a cambios si el usuario se lo indica. En eso difiere de, por ejemplo, Dropbox, que tiene que pedir al sistema operativo que le notifique los cambios realizados en su carpeta y, a veces, preguntar al servidor si alguna otra persona ha realizado cambios.

#### Creaci칩n de solicitudes de incorporaci칩n de cambios (git request-pull)

Una vez que otro desarrollador, como Alice, ha clonado el repositorio y **realizado algunos cambios en local, es recomendable que incorpore esos cambios al repositorio original**. Podr칤a parecer que lo adecuado ser칤a enviar los cambios al repositorio original, pero se producir칤a un error al hacerlo, ya que otros usuarios no tienen permiso para realizar cambios en 칠l. Y as칤 debe ser. Por ahora, quiere revisar los cambios entrantes antes de combinarlos con la base de c칩digo principal.

Por ahora, Alice tendr치 que enviar una solicitud de incorporaci칩n de cambios para pedirle que incorpore sus cambios a la base de c칩digo principal. Alice puede hacerlo mediante git request-pull, que podr칤a tener el aspecto de este ejemplo:

````
git request-pull -p origin/main .
````

Alice hace referencia a la rama main del remoto origin como origin/main.

Esta solicitud de incorporaci칩n de cambios es b치sicamente lo mismo que una de GitHub, que es un lugar para almacenar c칩digo del que no se habla en este m칩dulo. **Una solicitud de incorporaci칩n de cambios le ofrece la posibilidad de revisar los cambios de otros colaboradores antes de incorporar su trabajo al que est치 realizando en el sitio web**. Las revisiones de c칩digo son una parte importante (algunos dir칤an que la m치s importante) de la programaci칩n colaborativa.

#### Creaci칩n de solicitudes de incorporaci칩n de cambios (git request-pull)

Como propietario del proyecto, debe saber c칩mo combinar las solicitudes de incorporaci칩n de cambios. En primer lugar, **use el comando git remote para configurar el repositorio de otro desarrollador como remoto**. Luego use ese remoto para las incorporaciones y **las solicitudes de incorporaci칩n de cambios mediante el comando git pull**.

En segundo plano, **git pull es una combinaci칩n de dos operaciones** m치s sencillas: **git fetch**, que obtiene los cambios, y **git merge**, que combina esos cambios en el repositorio. En este caso, la combinaci칩n era de avance r치pido, lo que significa que Alice ten칤a la confirmaci칩n m치s reciente en su repositorio, por lo que esta confirmaci칩n podr칤a agregarse al principio del historial sin ninguna modificaci칩n.

### Ejercicio: Clonaci칩n de un repositorio

Para que Alice practique c칩mo clonar un repositorio y realizar una solicitud de incorporaci칩n de cambios, primero se debe configurar un repositorio para que Alice lo clone.

#### Configuraci칩n

1. Use el comando mkdir para crear una carpeta denominada Cats:

````
mkdir Cats
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/d0b074c4-652d-4098-92ed-f6be2ec3b93b)

2. Use el comando cd para ir a la carpeta del proyecto:

````
cd Cats
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/d8737ba4-3d95-4489-9e6c-2557a165defb)

3. Ahora, inicialice el nuevo repositorio y establezca el nombre de la rama predeterminada en main.

Si est치 ejecutando la versi칩n 2.28.0 o una posterior de Git, use los comandos siguientes:

````
git init --initial-branch=main
git init -b main
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/954e9407-885d-402d-952e-537b60873097)

En versiones anteriores de Git, use estos comandos:

````
git init
git checkout -b main
````

4. Cree algunos archivos con el comando touch y almac칠nelos provisionalmente y conf칤rmelos mediante Git:

````
touch index.html
mkdir CSS
touch CSS/site.css
git add .
git commit -m "Create empty index.html, site.css files"
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/8fc0d5c9-2921-4004-b6af-27347830e245)

5. Agregue alg칰n c칩digo HTML al archivo index.html mediante el editor de c칩digo de Cloud Shell, que puede abrir con el comando code en el s칤mbolo del sistema del terminal:

````
code index.html
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/0c6e46cc-b565-4d35-930e-e8c09c2d2e78)

6. Pegue este c칩digo HTML:

````
<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <title>Our Feline Friends</title>
    <link rel="stylesheet" href="CSS/site.css">
  </head>
  <body>
    <h1>Our Feline Friends</h1>
    <p>Eventually we will put cat pictures here.</p>
    <hr>
  </body>
</html>
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/30a3d3ab-4bac-4abe-a619-b174c6b3fe28)

Guarde el archivo y cierre el editor. Puede seleccionar los puntos suspensivos "..." de la esquina derecha del editor o usar el m칠todo abreviado de teclado (Ctrl+S en Windows y Linux, Cmd+S en macOS).

7. Vaya al directorio CSS y abra site.css en el editor:

````
cd CSS
code site.css
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/60591a59-7b9c-44c6-b7c9-8e5a821cce12)

8. Agregue el siguiente CSS a site.css:

````
h1, h2, h3, h4, h5, h6 { font-family: sans-serif; }
body { font-family: serif; }
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/a5159391-9886-4e8f-a4ce-bb95bd1ffb3d)

Luego guarde el archivo y cierre el editor.

Vuelva al directorio Cats.

````
cd ..
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/8db25d35-1662-4188-ad3f-5a67a7f44c8f)

9. Por 칰ltimo, confirme los cambios de nuevo:

````
git add .
git commit -m "Add simple HTML and stylesheet"
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/5edf41f8-1548-4621-84dc-0d17a082dc0d)

10. Compruebe r치pidamente el registro de Git para asegurarse de que todo parezca correcto:

````
git log --oneline
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/641562c1-8a87-47a1-8a2a-fbdb951c73c9)

Compruebe los resultados. Deber칤a ver una salida como la de este ejemplo:

````
2bf69ab Add simple HTML and stylesheet
bb371c8 Create empty index.html, site.css files
````

#### Clonaci칩n de un repositorio

Ahora vamos a asumir el papel de Alice y a practicar la clonaci칩n de un repositorio para colaborar en 칠l.

Para simular la clonaci칩n del repositorio por parte de Alice en el equipo de ella, cree un directorio denominado Alice en su equipo y clone en 칠l el directorio del proyecto. En la vida real, esta colaboraci칩n se lograr칤a mediante la configuraci칩n de un recurso compartido de red o un remoto accesible por medio de una direcci칩n URL.

1. Cree un directorio denominado Alice en el que clonar el repositorio. No debe ser un subdirectorio del directorio del proyecto (Cats), as칤 que use cd de nuevo para ir al directorio principal desde el directorio del proyecto a fin de convertir Alice en un elemento del mismo nivel que el directorio del proyecto. Luego, use cd para ir al directorio Alice.

````
cd ..
mkdir Alice
cd Alice
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/25e50187-b85c-4fbf-bf2d-89bdbbced46a)

2. Ahora use git clone para clonar el repositorio que se encuentra en el directorio del proyecto en el directorio Alice. Aseg칰rese de incluir el punto al final del comando:

````
git clone ../Cats .
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/58fdf484-9810-40f7-b82b-ca61c3ea17fe)

../Cats indica a Git desde d칩nde debe realizar la clonaci칩n, mientras que . le indica la ubicaci칩n de destino de esta. En Unix, . hace referencia al directorio actual.

Compruebe los resultados. Git debe mostrar este texto para indicarle que ha funcionado:

````
Cloning into '.'...
done.
````

Ahora hay un clon del repositorio del directorio del proyecto en el directorio Alice.

### Ejercicio: Creaci칩n de una solicitud de incorporaci칩n de cambios

En el espacio aislado, aseg칰rese de que sigue en el directorio Alice, que es la carpeta superior del clon de Alice del repositorio Cats. Puede usar el comando pwd para comprobar la ubicaci칩n de la carpeta.

````
pwd
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/27c8f560-4690-497e-a51d-e2fc70c87887)

En este momento no hay nada que Alice pueda incorporar, porque no se ha realizado ning칰n cambio desde que ella clon칩 el repositorio. Puede probarlo con el siguiente comando, que muestra la salida Already up-to-date:

````
git pull
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/d7b1f7f2-3c39-483e-8332-390fc3137d82)

#### Realizaci칩n de un cambio y env칤o de una solicitud de incorporaci칩n de cambios

Alice comienza a trabajar en el sitio web. Su primera decisi칩n es cambiar el color de fondo del sitio. Alice experimenta en local y, finalmente, elige su tono favorito de azul claro.

1. Configure una identidad para Alice mediante la ejecuci칩n de los siguientes comandos:

````
git config user.name "Alice"
git config user.email "alice@contoso.com"
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/45889d34-227f-4b91-8735-074c85713366)

Estos valores de configuraci칩n config se almacenan en el repositorio en el archivo .git/config, as칤 que no tendr치 que volver a escribirlos. Cada vez que vaya al directorio Alice, asumir치 la identidad de Alice.

````
git config --list
````
![image](httpsgithub.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/78f07acc-38e8-475c-9d7c-361765132dd0)

2. Abra el archivo site.css del directorio Alice/CSS:

````
code CSS/site.css
````

3. Para cambiar el color de fondo de la p치gina a azul claro, reemplace la segunda l칤nea del archivo por la siguiente instrucci칩n:

````
body { font-family: serif; background-color: #F0FFF8; }
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/069125e6-c7f2-41bd-92f7-7dc4ae488ae8)

Luego guarde el archivo y cierre el editor.

4. Ahora confirme el cambio:

````
git commit -a -m "Change background color to light blue"
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/cbf0bd8f-f6bf-42b1-9353-ca47bfb75558)

5. Luego realice una solicitud de incorporaci칩n de cambios al repositorio original:

````
git request-pull -p origin/main .
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/6fa51fc1-5dd7-43b1-9488-c777403c020f)

Compruebe los resultados. Deber칤a ver una salida similar al ejemplo siguiente:

````
The following changes since commit 2bf69ab0226d8d35efd1e92c83cd92c5cc09a7ae:

  Add simple HTML and stylesheet (2019-11-21 01:57:24 +0000)

are available in the git repository at:

  .

for you to fetch changes up to 95bbc3b6929953e9b04353920e97230b463022f0:

  Change background color to light blue (2019-11-21 02:33:48 +0000)

----------------------------------------------------------------
Alice (1):
      Change background color to light blue

 CSS/site.css | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/CSS/site.css b/CSS/site.css
index caefc86..86d41e8 100644
--- a/CSS/site.css
+++ b/CSS/site.css
@@ -1,2 +1,2 @@
 h1, h2, h3, h4, h5, h6 { font-family: sans-serif; }
-body { font-family: serif; }
\ No newline at end of file
+body { font-family: serif; background-color: #F0FFF8; }
\ No newline at end of file
````

#### Creaci칩n de un remoto y finalizaci칩n de la solicitud de incorporaci칩n de cambios

Dado que el directorio del proyecto y el directorio Alice est치n en el mismo equipo, puede incorporar los cambios directamente desde el directorio Alice. En la vida real, el directorio Alice estar칤a en el equipo de ella. Esta circunstancia se soluciona mediante la configuraci칩n de un remoto con el comando git remote. Luego se usa ese remoto para las solicitudes de incorporaci칩n y env칤o de cambios. En este ejercicio no resulta pr치ctico configurar dos m치quinas para realizar estos pasos, as칤 que se va a configurar un remoto que use un nombre de ruta de acceso local. En realidad, se usar칤a una ruta de acceso de red o una URL.

1. Vuelva al directorio del proyecto y use el comando git remote para crear un remoto de nombre remote-alice que tenga como destino el directorio del proyecto de Alice:

````
cd ../Cats
git remote add remote-alice ../Alice
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/45f59913-abca-411c-99c3-56b71b3f63fe)

2. Ahora ejecute una incorporaci칩n de cambios:

````
git pull remote-alice main
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/66d064d5-4368-4a63-9b2d-86c7d507e858)

Observe que tiene que especificar una rama, main, en el comando de incorporaci칩n de cambios. En la siguiente lecci칩n va a aprender a configurar una direcci칩n URL ascendente para la rama.

3. Compruebe los resultados. Deber칤a ver una salida como la de este ejemplo, que muestra que la solicitud de incorporaci칩n de cambios se ha realizado correctamente:

````
remote: Counting objects: 4, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 4 (delta 1), reused 0 (delta 0)
Unpacking objects: 100% (4/4), done.
From ../Alice
 * branch            main     -> FETCH_HEAD
 * [new branch]      main     -> remote-alice/main
Updating 2bf69ab..95bbc3b
Fast-forward
 CSS/site.css | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
````

La diversi칩n acaba de empezar. En la siguiente lecci칩n, aprender치 a configurar y utilizar un repositorio compartido, lo que hace que la colaboraci칩n resulte m치s sencilla y c칩moda.

#### Ejercicio: Colaboraci칩n mediante un repositorio compartido

La incorporaci칩n de cambios directa desde el repositorio de otro usuario funciona, siempre que ambos est칠n en la misma red. Pero es un proceso burdo, y la mayor칤a de los colaboradores no est치n en la misma red. Es mejor configurar un repositorio central en el que todos los colaboradores pueden insertar y enviar.

Cuando le habla a su amigo desarrollador Bob sobre su proyecto y este le pide participar, eso es exactamente lo que decide hacer: configurar un repositorio central, que tambi칠n se conoce como repositorio vac칤o.

### Creaci칩n de un repositorio vac칤o

Lo que necesita es un repositorio que no tenga 치rbol de trabajo. Un repositorio vac칤o tiene varias ventajas con respecto a un 치rbol de trabajo:

- Sin un 치rbol de trabajo, todo el mundo puede enviar cambios sin tener que preocuparse de qu칠 rama se extrae del repositorio.

- Para Git es f치cil detectar si otro usuario ha enviado cambios que podr칤an entrar en conflicto con los suyos.

- Un repositorio compartido se escala a cualquier n칰mero de desarrolladores. Con un repositorio vac칤o solo tiene que saber sobre el repositorio compartido y no sobre los dem치s colaboradores de los que puede que tenga que incorporar.

- Al colocar el repositorio compartido en un servidor al que todos pueden acceder, no tiene que preocuparse por los firewalls ni los permisos.

- No necesita cuentas independientes en el servidor, ya que Git realiza un seguimiento de qui칠n ha realizado cada confirmaci칩n. (GitHub tiene millones de usuarios que comparten la cuenta git. Todos usan el protocolo de red criptogr치fico de Secure Shell (SSH) y los usuarios se distinguen por sus claves p칰blicas).

Crear un repositorio vac칤o para compartir es sencillo:

1. Cree un nuevo directorio denominado Shared.git en el mismo nivel que los directorios Alice y Cats para que contenga el repositorio vac칤o:

````
cd ..
mkdir Shared.git
cd Shared.git
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/bcc7ac12-ade0-4cf9-a861-3ddbc1e1ebae)

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/4dae132b-ae64-4733-bfa1-789a17681a0a)

El nombre del directorio no tiene importancia, pero en estos ejercicios nos referiremos a 칠l como el directorio Shared.git o simplemente como el directorio compartido.

Al asignar al directorio el nombre Shared.git se sigue la larga tradici칩n de asignar a los repositorios vac칤os un nombre que finaliza en .git para distinguirlos de los 치rboles de trabajo. Se trata de una convenci칩n, no de un requisito.

2. Ahora use el siguiente comando para crear un repositorio vac칤o en el directorio compartido:

````
git init --bare
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/44cf00f7-4d0b-4eb4-81a7-a663e02fb104)

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/740ea381-307f-4ce4-9a18-d660a3a56f22)

游늬 Shared.git
  > 游늬 branches (vac칤a)
  游늯 config
  游늯 description
  游늯 HEAD
  > 游늬 hooks
    游늯 applypatch-msg.sample
    游늯 commit-msg.sample
    游늯 fsmonitor-watchman.sample
    游늯 post-update.sample
    游늯 pre-applypatch.sample
    游늯 pre-commit.sample
    游늯 pre-merge-commit.sample
    游늯 prepare-commit-msg.sample
    游늯 pre-push.sample
    游늯 pre-rebase.sample
    游늯 pre-receive.sample
    游늯 push-to-checkout.sample
    游늯 update.sample
  > 游늬 info
    游늯 exclude
  > 游늬 objects
    > 游늬 info (vac칤a)
    > 游늬 pack (vac칤a)
  > 游늬 refs
    > 游늬 heads (vac칤a)
    > 游늬 tags (vac칤a)

3. Cuando un repositorio todav칤a est치 vac칤o, no se puede usar el comando git checkout para establecer el nombre de la rama predeterminada. Para realizar esta tarea, puede cambiar la rama HEAD para que apunte a otra rama; en este caso es la rama main:

````
git symbolic-ref HEAD refs/heads/main
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/8d0790d7-d8f0-4b53-b755-fa1fd750d09e)

4. El siguiente paso consiste en obtener el contenido de su repositorio en el repositorio compartido. Use estos comandos para volver al directorio del proyecto donde est치 almacenado el repositorio, configure un remoto origin y realice un env칤o de cambios inicial:

````
cd ../Cats
git remote add origin ../Shared.git
git push origin main
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/dfb8fab0-a8ea-4c1a-abe3-d015c3c6ba2c)

Compruebe los resultados. La salida deber칤a indicar que la operaci칩n se ha realizado correctamente:

````
Counting objects: 12, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (8/8), done.
Writing objects: 100% (12/12), 1.07 KiB | 0 bytes/s, done.
Total 12 (delta 1), reused 0 (delta 0)
To ../Shared.git
 * [new branch]      main -> main
````

5. Quiere que push y pull usen de manera predeterminada la rama main de origin, como si se hubiera creado el repositorio clon치ndolo. Pero primero debe indicar a Git la rama cuyo seguimiento se va a efectuar.

````
git branch --set-upstream-to origin/main
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/7490cf01-1281-4df2-ade0-6396c86628d6)

Busque esta salida:

````
Branch main set up to track remote branch main from origin.
````

Git se quejar칤a si se intentara ejecutar este comando antes del env칤o de cambios inicial, ya que el nuevo repositorio no tendr칤a ramas. Git no puede realizar el seguimiento de una rama que no existe. Lo 칰nico que Git hace por debajo es buscar en .git/refs/remotes/origin un archivo denominado trunk.

### Configuraci칩n para colaboradores

El siguiente paso es que Bob clone el repositorio vac칤o y que Alice defina el origen en su repositorio para establecer como destino de las incorporaciones y los env칤os de cambios el repositorio compartido.

1. Cree un directorio denominado Bob que sea un elemento del mismo nivel que el directorio del proyecto y luego vaya al directorio Bob:

````
cd ..
mkdir Bob
cd Bob
````

2. Ahora, clone el repositorio compartido (aseg칰rese de incluir el punto al final del comando):

````
git clone ../Shared.git .
````

3. Actualmente, el repositorio de Alice est치 configurado para enviar e incorporar cambios desde su propio repositorio. Use los siguientes comandos para ir al directorio Alice y cambie origin para que apunte al repositorio compartido:

````
cd ../Alice
git remote set-url origin ../Shared.git
````

### Inicio de la colaboraci칩n

Ahora que Bob lo tiene todo a punto para trabajar en el sitio web, decide agregar un pie de p치gina en la parte inferior. Vamos a asumir el rol de Bob y Alice durante unos minutos para aprender los aspectos b치sicos de la colaboraci칩n.

1. Comience por ir al directorio Bob y trabaje como Bob:

````
cd ../Bob
git config user.name Bob
git config user.email bob@contoso.com
````

2. Abra index.html y reemplace el elemento <hr> por esta l칤nea (se encuentra al final del elemento <body>):

````
<footer><hr>Copyright (c) 2021 Contoso Cats</footer>
````

Luego guarde el archivo y cierre el editor.

3. Confirme los cambios e ins칠rtelos en el origen remoto:

````
git commit -a -m "Put a footer at the bottom of the page"
git push
````

Compruebe los resultados. Si ve una advertencia similar a la del ejemplo siguiente, no se preocupe. Simplemente comunica a los usuarios un cambio en los comportamientos predeterminados de Git. Si quiere asegurarse de no volver a ver esta advertencia, puede ejecutar git config --global push.default simple.

````
warning: push.default is unset; its implicit value has changed in
Git 2.0 from 'matching' to 'simple'. To squelch this message
and maintain the traditional behavior, use:

  git config --global push.default matching

To squelch this message and adopt the new behavior now, use:

  git config --global push.default simple

When push.default is set to 'matching', git will push local branches
to the remote branches that already exist with the same name.

Since Git 2.0, Git defaults to the more conservative 'simple'
behavior, which only pushes the current branch to the corresponding
remote branch that 'git pull' uses to update the current branch.

See 'git help config' and search for 'push.default' for further information.
(the 'simple' mode was introduced in Git 1.7.11. Use the similar mode
'current' instead of 'simple' if you sometimes use older versions of Git)
````

4. Mientras Bob edita el sitio, Alicia tambi칠n lo hace. Ella decide agregar una barra de navegaci칩n a la p치gina. Esta incorporaci칩n obliga a Alice a modificar dos archivos: index.html y site.css. Empiece por volver al directorio Alice:

````
cd ../Alice
````

5. Ahora, abra index.html e inserte la l칤nea siguiente inmediatamente despu칠s de la etiqueta <body>, en la l칤nea 8:

````
<nav><a href="./index.html">home</a></nav>
````

Luego guarde el archivo y cierre el editor.

6. Abra site.css en la carpeta CSS y agregue la l칤nea siguiente en la parte inferior:

````
nav { background-color: #C0D8DF; }
````

Guarde el archivo y cierre el editor.

7. Ahora imagine que Alice recibe un correo electr칩nico de Bob en el que le dice que ha hecho cambios en el sitio. Alice decide extraer los cambios de Bob antes de confirmarlos. (Si Alice ya hubiera confirmado los cambios, tendr칤an otro problema que trataremos en otro m칩dulo). Alice ejecuta este comando:

````
git pull
````

Compruebe los resultados. Por la salida, parece que Git ha evitado un problema:

````
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 3 (delta 2), reused 0 (delta 0)
Unpacking objects: 100% (3/3), done.
From ../Shared
   843d142..2cf6cbf  main     -> origin/main
Updating 843d142..2cf6cbf
error: Your local changes to the following files would be overwritten by merge:
        index.html
Please commit your changes or stash them before you can merge.
Aborting
````

Git advierte que la incorporaci칩n de cambios sobrescribir칤a la versi칩n de Alice de index.html y se perder칤an sus cambios. Esto se debe a que Bob tambi칠n ha modificado index.html. Si Alice no hubiera cambiado index.html, Git habr칤a confirmado la combinaci칩n.

8. Use un comando git diff para ver qu칠 cambios ha realizado Bob en index.html:

````
git diff origin -- index.html
````

9. Compruebe los resultados. Por la salida, es evidente que los cambios de Alice y los de Bob no se superponen. Ahora Alice puede guardar provisionalmente sus cambios.

git stash guarda el estado del 치rbol de trabajo y el 칤ndice mediante un par de confirmaciones temporales. Piense en el almacenamiento provisional como una manera de guardar el trabajo actual mientras hace otra cosa, sin tener que realizar una confirmaci칩n "real" ni afectar al historial del repositorio.

En realidad, Alice deber칤a haber confirmado o guardado provisionalmente sus cambios antes de intentar incorporar cambios. La incorporaci칩n de cambios a un 치rbol de trabajo "sucio" es algo arriesgado, ya que puede provocar incidencias m치s complejas de subsanar.

Use el siguiente comando para guardar provisionalmente los cambios de Alice:

````
git stash
````

Compruebe los resultados. Deber칤an parecerse a los de este ejemplo:

````
Saved working directory and index state WIP on main: 95bbc3b Change background color to light blue
HEAD is now at 95bbc3b Change background color to light blue
````

10. Ahora Alice puede incorporar los cambios con seguridad, despu칠s de lo cual puede "sacar" los cambios guardados provisionalmente, que est치n organizados como una pila. (De hecho, git stash es una forma abreviada de git stash push. Es muy similar a la pila donde se colocan las facturas que a칰n no se han podido pagar). Ejecute estos comandos:

````
git pull
git stash pop
````

Los cambios guardados provisionalmente se combinan al extraerlos. Si los cambios se superponen, podr칤a haber un conflicto. Puede obtener informaci칩n sobre c칩mo resolver esas situaciones en un m칩dulo de Git m치s avanzado de Microsoft Learn.

Compruebe los resultados. Alice deber칤a ver esta salida, que le permite saber que la combinaci칩n se ha realizado correctamente y que los cambios est치n de vuelta, aunque a칰n no se hayan almacenado provisionalmente para su confirmaci칩n:

````
Auto-merging index.html
On branch main
Your branch is up-to-date with 'origin/main'.
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

        modified:   CSS/site.css
        modified:   index.html

no changes added to commit (use "git add" and/or "git commit -a")
Dropped refs/stash@{0} (0cfb7b75d56611d9fc6a6ab660a51f5582b8d9c5)
````

En este punto Alice puede seguir trabajando o simplemente confirmar y enviar los cambios. Vamos a hacer otro cambio como Alice: asignar a los pies de p치gina el mismo estilo que a las barras de navegaci칩n.

11. Abra site.css en la carpeta CSS y reemplace la tercera l칤nea (la que aplica estilo a los elementos <nav>) por esta regla CSS compartida. Luego, como de costumbre, guarde los cambios y cierre el editor.

````
nav, footer { background-color: #C0D8DF; }
````

12. Ahora confirme los cambios y env칤elos al repositorio compartido:

````
git commit -a -m "Stylize the nav bar"
git push
````

El sitio actualizado est치 ahora en el repositorio compartido.

13. Para finalizar, vuelva al directorio del proyecto y realice una incorporaci칩n de cambios:

````
cd ../Cats
git pull
````

14. Abra index.html (el que se encuentra en el directorio del proyecto) para confirmar que los cambios realizados por Bob y Alice est치n presentes en el repositorio local. Compruebe que index.html tiene el c칩digo m치s actualizado:

````
<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <title>Our Feline Friends</title>
    <link rel="stylesheet" href="CSS/site.css">
  </head>
  <body>
    <nav><a href="./index.html">home</a></nav>
    <h1>Our Feline Friends</h1>
    <p>Eventually we will put cat pictures here.</p>
    <footer><hr>Copyright (c) 2021 Contoso Cats</footer>
  </body>
</html>
````

15. En este momento, su repositorio y el de Alice est치n sincronizados, pero el de Bob no lo est치. Para finalizar, actualice tambi칠n el de Bob:

````
cd ../Bob
git pull
````

Los tres repositorios ya est치n alineados. El repositorio compartido es el 칰nico origen de confianza para todos los usuarios, y todos los env칤os de cambios e incorporaciones se dirigen a 칠l.

Si tiene curiosidad por el aspecto del sitio web, aqu칤 se muestra una vista previa:

Si quiere, puede descargar los archivos para obtener una versi칩n preliminar local de ellos:

1. Comprima la carpeta Cats:

````
cd ..
zip -r Cats.zip Cats
````

2. Descargue el archivo ZIP:

````
download Cats.zip
````

3. Ahora, descomprima el archivo en la m치quina local y abra index.html para verlo por s칤 mismo.
