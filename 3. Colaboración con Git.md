# <img src="https://github.com/shimadasoftware/Introduction-to-version-control-with-Git/assets/73977456/801ea14c-dd83-46bb-ab5b-d229a151bc5c" alt="Italian Trulli" style="width:25px;height:25px;"> Modulo 3: Colaboraci√≥n con Git 

**¬©** Copyright es reservado para el curso Introducci√≥n al Control de Versiones con Git.

[![Tiempo](https://img.shields.io/badge/Tiempo-39%20minutos-blue.svg)](https://learn.microsoft.com/es-mx/training/paths/intro-to-vc-git/)

## Introducci√≥n

Imagine que es un nuevo desarrollador de software en una empresa que escribe software de avi√≥nica para l√≠neas a√©reas comerciales. El control de calidad es cr√≠tico y los desarrolladores trabajan en equipos peque√±os y usan Git para el control de versiones. Ya sabe algo sobre Git y lo ha usado localmente por su cuenta para realizar el seguimiento de los cambios y corregir errores. Pero sabe que el control de versiones resulta m√°s √∫til para trabajar en el c√≥digo con un equipo y quiere practicar un poco.

Ya ha creado un peque√±o sitio web que usted y sus amigos pueden usar para practicar con Git compartiendo fotograf√≠as de sus gatos. Ha reclutado a un par de amigos que son desarrolladores de software para que le ayuden.

Va a usar Git para colaborar y hacer un seguimiento de los cambios (y de qui√©n los hace), asegurarse de que no haya ning√∫n error cuando dos usuarios modifiquen el mismo archivo y realizar copias de seguridad de todos los archivos de c√≥digo fuente.

## Objetivos de aprendizaje

Objetivos de este m√≥dulo:

- Clonaci√≥n de un repositorio.
- Insertar cambios en un repositorio remoto.
- Guardado provisional de cambios.
- Incorporar los cambios de otros usuarios para actualizar un repositorio.

### Colaboraci√≥n mediante un comando de incorporaci√≥n de cambios

En su tiempo de ocio ha estado trabajando en un sitio web que hospeda fotos de gatos. Ha estado usando Git para el control de versiones, y es hora de invitar a colaboradores al proyecto. Durante una cena en su casa, su amiga y tambi√©n amante de los gatos, Alice, se ofrece a ayudarle a materializar su proyecto, y usted acepta encantado.

Alice primero debe hacer una copia del proyecto de Git. Luego es recomendable que Alice le env√≠e sus cambios a medida que los realiza. En esta situaci√≥n es donde destaca la naturaleza distribuida de Git. Con Git, dos o m√°s usuarios pueden trabajar juntos en un proyecto sin miedo a sobrescribir el trabajo de los otros. Adem√°s, puede comprobar el trabajo de Alice antes de combinarlo con el suyo. (Alice tiene talento, pero ning√∫n desarrollador es perfecto. Conf√≠e, pero compruebe)

En esta lecci√≥n va a aprender a clonar un repositorio (tambi√©n denominado repo) para ponerlo a disposici√≥n de otros usuarios. Tambi√©n aprender√° a usar una de las caracter√≠sticas m√°s importantes de Git: las solicitudes de incorporaci√≥n de cambios.

#### Clonaci√≥n de un repositorio (git clone)

En Git, **un repositorio se copia al clonarlo mediante el comando git clone**. Puede clonar un repositorio independientemente de d√≥nde est√© almacenado, siempre que tenga una direcci√≥n URL o una ruta de acceso a la que apuntar.

git clone acepta rutas de acceso del sistema de archivos, rutas de acceso SSH (por ejemplo, git@example.com:alice/Cats; estar√° familiarizado con este formato si ha usado Rsync o SCP) o direcciones URL, normalmente una que empiece por file:, git: o ssh. Los distintos formatos se describen en la documentaci√≥n de git clone. En Unix y Linux, la operaci√≥n de clonaci√≥n usa v√≠nculos f√≠sicos, as√≠ que es r√°pida y usa un espacio m√≠nimo, ya que solo hay que copiar las entradas de directorio, no los archivos.

#### Repositorios remotos (git pull)

**Cuando Git clona un repositorio, crea una referencia al repositorio original, al que se llama remoto, mediante el nombre origin**. Configura el repositorio clonado de modo que incorpore o recupere datos del repositorio remoto. (Git tambi√©n puede enviar cambios. Va a obtener informaci√≥n sobre el env√≠o de cambios en Git m√°s adelante en este m√≥dulo). **origin es la ubicaci√≥n predeterminada desde la que Git incorpora los cambios y a la que los env√≠a**. **git pull copia los cambios del repositorio remoto en el local**. El comando git pull es muy eficaz, porque solo copia las confirmaciones y los objetos nuevos y luego los inserta en el √°rbol de trabajo.

Puede incorporar cambios de origin mediante el comando git pull. Resulta √∫til comparar git pull con otros m√©todos de copia de archivos. El comando scp copia todo. (scp es similar al comando cp de Unix, salvo que los archivos que se copian no tienen que estar en el mismo equipo). Si hay 10 000 archivos en el directorio remoto, scp los copia todos. Un programa m√°s eficaz llamado Rsync examina todos los archivos de los directorios local y remoto y solo copia los que son diferentes. Rsync se suele usar para realizar copias de seguridad, pero tiene que aplicar hash a todos los archivos, a menos que tengan diferentes tama√±os o fechas de creaci√≥n.

Git solo examina las confirmaciones. Ya sabe cu√°l es la √∫ltima confirmaci√≥n que ha obtenido del repositorio remoto porque ha guardado la lista de confirmaciones. Luego, Git indica al equipo desde el que est√° copiando que env√≠e todo lo que ha cambiado, incluidas las nuevas confirmaciones y los objetos a los que apuntan. Esos objetos y confirmaciones se agrupan en un archivo denominado paquete que se env√≠a en un lote. Por √∫ltimo, Git actualiza el √°rbol de trabajo al desempaquetar todos los objetos que han cambiado y combinarlos (si fuera necesario) con las confirmaciones y los objetos del √°rbol de trabajo.

Git solo incorpora o env√≠a cambios si el usuario se lo indica. En eso difiere de, por ejemplo, Dropbox, que tiene que pedir al sistema operativo que le notifique los cambios realizados en su carpeta y, a veces, preguntar al servidor si alguna otra persona ha realizado cambios.

#### Creaci√≥n de solicitudes de incorporaci√≥n de cambios (git request-pull)

Una vez que otro desarrollador, como Alice, ha clonado el repositorio y **realizado algunos cambios en local, es recomendable que incorpore esos cambios al repositorio original**. Podr√≠a parecer que lo adecuado ser√≠a enviar los cambios al repositorio original, pero se producir√≠a un error al hacerlo, ya que otros usuarios no tienen permiso para realizar cambios en √©l. Y as√≠ debe ser. Por ahora, quiere revisar los cambios entrantes antes de combinarlos con la base de c√≥digo principal.

Por ahora, Alice tendr√° que enviar una solicitud de incorporaci√≥n de cambios para pedirle que incorpore sus cambios a la base de c√≥digo principal. Alice puede hacerlo mediante git request-pull, que podr√≠a tener el aspecto de este ejemplo:

````
git request-pull -p origin/main .
````

Alice hace referencia a la rama main del remoto origin como origin/main.

Esta solicitud de incorporaci√≥n de cambios es b√°sicamente lo mismo que una de GitHub, que es un lugar para almacenar c√≥digo del que no se habla en este m√≥dulo. **Una solicitud de incorporaci√≥n de cambios le ofrece la posibilidad de revisar los cambios de otros colaboradores antes de incorporar su trabajo al que est√° realizando en el sitio web**. Las revisiones de c√≥digo son una parte importante (algunos dir√≠an que la m√°s importante) de la programaci√≥n colaborativa.

#### Creaci√≥n de solicitudes de incorporaci√≥n de cambios (git request-pull)

Como propietario del proyecto, debe saber c√≥mo combinar las solicitudes de incorporaci√≥n de cambios. En primer lugar, **use el comando git remote para configurar el repositorio de otro desarrollador como remoto**. Luego use ese remoto para las incorporaciones y **las solicitudes de incorporaci√≥n de cambios mediante el comando git pull**.

En segundo plano, **git pull es una combinaci√≥n de dos operaciones** m√°s sencillas: **git fetch**, que obtiene los cambios, y **git merge**, que combina esos cambios en el repositorio. En este caso, la combinaci√≥n era de avance r√°pido, lo que significa que Alice ten√≠a la confirmaci√≥n m√°s reciente en su repositorio, por lo que esta confirmaci√≥n podr√≠a agregarse al principio del historial sin ninguna modificaci√≥n.

### Ejercicio: Clonaci√≥n de un repositorio

Para que Alice practique c√≥mo clonar un repositorio y realizar una solicitud de incorporaci√≥n de cambios, primero se debe configurar un repositorio para que Alice lo clone.

#### Configuraci√≥n

1. Use el comando mkdir para crear una carpeta denominada Cats:

````
mkdir Cats
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/d0b074c4-652d-4098-92ed-f6be2ec3b93b)

2. Use el comando cd para ir a la carpeta del proyecto:

````
cd Cats
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/d8737ba4-3d95-4489-9e6c-2557a165defb)

3. Ahora, inicialice el nuevo repositorio y establezca el nombre de la rama predeterminada en main.

Si est√° ejecutando la versi√≥n 2.28.0 o una posterior de Git, use los comandos siguientes:

````
git init --initial-branch=main
git init -b main
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/954e9407-885d-402d-952e-537b60873097)

En versiones anteriores de Git, use estos comandos:

````
git init
git checkout -b main
````

4. Cree algunos archivos con el comando touch y almac√©nelos provisionalmente y conf√≠rmelos mediante Git:

````
touch index.html
mkdir CSS
touch CSS/site.css
git add .
git commit -m "Create empty index.html, site.css files"
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/8fc0d5c9-2921-4004-b6af-27347830e245)

5. Agregue alg√∫n c√≥digo HTML al archivo index.html mediante el editor de c√≥digo de Cloud Shell, que puede abrir con el comando code en el s√≠mbolo del sistema del terminal:

````
code index.html
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/0c6e46cc-b565-4d35-930e-e8c09c2d2e78)

6. Pegue este c√≥digo HTML:

````
<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <title>Our Feline Friends</title>
    <link rel="stylesheet" href="CSS/site.css">
  </head>
  <body>
    <h1>Our Feline Friends</h1>
    <p>Eventually we will put cat pictures here.</p>
    <hr>
  </body>
</html>
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/30a3d3ab-4bac-4abe-a619-b174c6b3fe28)

Guarde el archivo y cierre el editor. Puede seleccionar los puntos suspensivos "..." de la esquina derecha del editor o usar el m√©todo abreviado de teclado (Ctrl+S en Windows y Linux, Cmd+S en macOS).

7. Vaya al directorio CSS y abra site.css en el editor:

````
cd CSS
code site.css
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/60591a59-7b9c-44c6-b7c9-8e5a821cce12)

8. Agregue el siguiente CSS a site.css:

````
h1, h2, h3, h4, h5, h6 { font-family: sans-serif; }
body { font-family: serif; }
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/a5159391-9886-4e8f-a4ce-bb95bd1ffb3d)

Luego guarde el archivo y cierre el editor.

Vuelva al directorio Cats.

````
cd ..
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/8db25d35-1662-4188-ad3f-5a67a7f44c8f)

9. Por √∫ltimo, confirme los cambios de nuevo:

````
git add .
git commit -m "Add simple HTML and stylesheet"
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/5edf41f8-1548-4621-84dc-0d17a082dc0d)

10. Compruebe r√°pidamente el registro de Git para asegurarse de que todo parezca correcto:

````
git log --oneline
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/641562c1-8a87-47a1-8a2a-fbdb951c73c9)

Compruebe los resultados. Deber√≠a ver una salida como la de este ejemplo:

````
2bf69ab Add simple HTML and stylesheet
bb371c8 Create empty index.html, site.css files
````

#### Clonaci√≥n de un repositorio

Ahora vamos a asumir el papel de Alice y a practicar la clonaci√≥n de un repositorio para colaborar en √©l.

Para simular la clonaci√≥n del repositorio por parte de Alice en el equipo de ella, cree un directorio denominado Alice en su equipo y clone en √©l el directorio del proyecto. En la vida real, esta colaboraci√≥n se lograr√≠a mediante la configuraci√≥n de un recurso compartido de red o un remoto accesible por medio de una direcci√≥n URL.

1. Cree un directorio denominado Alice en el que clonar el repositorio. No debe ser un subdirectorio del directorio del proyecto (Cats), as√≠ que use cd de nuevo para ir al directorio principal desde el directorio del proyecto a fin de convertir Alice en un elemento del mismo nivel que el directorio del proyecto. Luego, use cd para ir al directorio Alice.

````
cd ..
mkdir Alice
cd Alice
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/25e50187-b85c-4fbf-bf2d-89bdbbced46a)

2. Ahora use git clone para clonar el repositorio que se encuentra en el directorio del proyecto en el directorio Alice. Aseg√∫rese de incluir el punto al final del comando:

````
git clone ../Cats .
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/58fdf484-9810-40f7-b82b-ca61c3ea17fe)

../Cats indica a Git desde d√≥nde debe realizar la clonaci√≥n, mientras que . le indica la ubicaci√≥n de destino de esta. En Unix, . hace referencia al directorio actual.

Compruebe los resultados. Git debe mostrar este texto para indicarle que ha funcionado:

````
Cloning into '.'...
done.
````

Ahora hay un clon del repositorio del directorio del proyecto en el directorio Alice.

### Ejercicio: Creaci√≥n de una solicitud de incorporaci√≥n de cambios

En el espacio aislado, aseg√∫rese de que sigue en el directorio Alice, que es la carpeta superior del clon de Alice del repositorio Cats. Puede usar el comando pwd para comprobar la ubicaci√≥n de la carpeta.

````
pwd
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/27c8f560-4690-497e-a51d-e2fc70c87887)

En este momento no hay nada que Alice pueda incorporar, porque no se ha realizado ning√∫n cambio desde que ella clon√≥ el repositorio. Puede probarlo con el siguiente comando, que muestra la salida Already up-to-date:

````
git pull
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/d7b1f7f2-3c39-483e-8332-390fc3137d82)

#### Realizaci√≥n de un cambio y env√≠o de una solicitud de incorporaci√≥n de cambios

Alice comienza a trabajar en el sitio web. Su primera decisi√≥n es cambiar el color de fondo del sitio. Alice experimenta en local y, finalmente, elige su tono favorito de azul claro.

1. Configure una identidad para Alice mediante la ejecuci√≥n de los siguientes comandos:

````
git config user.name "Alice"
git config user.email "alice@contoso.com"
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/45889d34-227f-4b91-8735-074c85713366)

Estos valores de configuraci√≥n config se almacenan en el repositorio en el archivo .git/config, as√≠ que no tendr√° que volver a escribirlos. Cada vez que vaya al directorio Alice, asumir√° la identidad de Alice.

````
git config --list
````
![image](httpsgithub.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/78f07acc-38e8-475c-9d7c-361765132dd0)

2. Abra el archivo site.css del directorio Alice/CSS:

````
code CSS/site.css
````

3. Para cambiar el color de fondo de la p√°gina a azul claro, reemplace la segunda l√≠nea del archivo por la siguiente instrucci√≥n:

````
body { font-family: serif; background-color: #F0FFF8; }
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/069125e6-c7f2-41bd-92f7-7dc4ae488ae8)

Luego guarde el archivo y cierre el editor.

4. Ahora confirme el cambio:

````
git commit -a -m "Change background color to light blue"
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/cbf0bd8f-f6bf-42b1-9353-ca47bfb75558)

5. Luego realice una solicitud de incorporaci√≥n de cambios al repositorio original:

````
git request-pull -p origin/main .
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/6fa51fc1-5dd7-43b1-9488-c777403c020f)

Compruebe los resultados. Deber√≠a ver una salida similar al ejemplo siguiente:

````
The following changes since commit 2bf69ab0226d8d35efd1e92c83cd92c5cc09a7ae:

  Add simple HTML and stylesheet (2019-11-21 01:57:24 +0000)

are available in the git repository at:

  .

for you to fetch changes up to 95bbc3b6929953e9b04353920e97230b463022f0:

  Change background color to light blue (2019-11-21 02:33:48 +0000)

----------------------------------------------------------------
Alice (1):
      Change background color to light blue

 CSS/site.css | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/CSS/site.css b/CSS/site.css
index caefc86..86d41e8 100644
--- a/CSS/site.css
+++ b/CSS/site.css
@@ -1,2 +1,2 @@
 h1, h2, h3, h4, h5, h6 { font-family: sans-serif; }
-body { font-family: serif; }
\ No newline at end of file
+body { font-family: serif; background-color: #F0FFF8; }
\ No newline at end of file
````

#### Creaci√≥n de un remoto y finalizaci√≥n de la solicitud de incorporaci√≥n de cambios

Dado que el directorio del proyecto y el directorio Alice est√°n en el mismo equipo, puede incorporar los cambios directamente desde el directorio Alice. En la vida real, el directorio Alice estar√≠a en el equipo de ella. Esta circunstancia se soluciona mediante la configuraci√≥n de un remoto con el comando git remote. Luego se usa ese remoto para las solicitudes de incorporaci√≥n y env√≠o de cambios. En este ejercicio no resulta pr√°ctico configurar dos m√°quinas para realizar estos pasos, as√≠ que se va a configurar un remoto que use un nombre de ruta de acceso local. En realidad, se usar√≠a una ruta de acceso de red o una URL.

1. Vuelva al directorio del proyecto y use el comando git remote para crear un remoto de nombre remote-alice que tenga como destino el directorio del proyecto de Alice:

````
cd ../Cats
git remote add remote-alice ../Alice
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/45f59913-abca-411c-99c3-56b71b3f63fe)

2. Ahora ejecute una incorporaci√≥n de cambios:

````
git pull remote-alice main
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/66d064d5-4368-4a63-9b2d-86c7d507e858)

Observe que tiene que especificar una rama, main, en el comando de incorporaci√≥n de cambios. En la siguiente lecci√≥n va a aprender a configurar una direcci√≥n URL ascendente para la rama.

3. Compruebe los resultados. Deber√≠a ver una salida como la de este ejemplo, que muestra que la solicitud de incorporaci√≥n de cambios se ha realizado correctamente:

````
remote: Counting objects: 4, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 4 (delta 1), reused 0 (delta 0)
Unpacking objects: 100% (4/4), done.
From ../Alice
 * branch            main     -> FETCH_HEAD
 * [new branch]      main     -> remote-alice/main
Updating 2bf69ab..95bbc3b
Fast-forward
 CSS/site.css | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
````

La diversi√≥n acaba de empezar. En la siguiente lecci√≥n, aprender√° a configurar y utilizar un repositorio compartido, lo que hace que la colaboraci√≥n resulte m√°s sencilla y c√≥moda.

#### Ejercicio: Colaboraci√≥n mediante un repositorio compartido

La incorporaci√≥n de cambios directa desde el repositorio de otro usuario funciona, siempre que ambos est√©n en la misma red. Pero es un proceso burdo, y la mayor√≠a de los colaboradores no est√°n en la misma red. Es mejor configurar un repositorio central en el que todos los colaboradores pueden insertar y enviar.

Cuando le habla a su amigo desarrollador Bob sobre su proyecto y este le pide participar, eso es exactamente lo que decide hacer: configurar un repositorio central, que tambi√©n se conoce como repositorio vac√≠o.

### Creaci√≥n de un repositorio vac√≠o

Lo que necesita es un repositorio que no tenga √°rbol de trabajo. Un repositorio vac√≠o tiene varias ventajas con respecto a un √°rbol de trabajo:

- Sin un √°rbol de trabajo, todo el mundo puede enviar cambios sin tener que preocuparse de qu√© rama se extrae del repositorio.

- Para Git es f√°cil detectar si otro usuario ha enviado cambios que podr√≠an entrar en conflicto con los suyos.

- Un repositorio compartido se escala a cualquier n√∫mero de desarrolladores. Con un repositorio vac√≠o solo tiene que saber sobre el repositorio compartido y no sobre los dem√°s colaboradores de los que puede que tenga que incorporar.

- Al colocar el repositorio compartido en un servidor al que todos pueden acceder, no tiene que preocuparse por los firewalls ni los permisos.

- No necesita cuentas independientes en el servidor, ya que Git realiza un seguimiento de qui√©n ha realizado cada confirmaci√≥n. (GitHub tiene millones de usuarios que comparten la cuenta git. Todos usan el protocolo de red criptogr√°fico de Secure Shell (SSH) y los usuarios se distinguen por sus claves p√∫blicas).

Crear un repositorio vac√≠o para compartir es sencillo:

1. Cree un nuevo directorio denominado Shared.git en el mismo nivel que los directorios Alice y Cats para que contenga el repositorio vac√≠o:

````
cd ..
mkdir Shared.git
cd Shared.git
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/bcc7ac12-ade0-4cf9-a861-3ddbc1e1ebae)

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/4dae132b-ae64-4733-bfa1-789a17681a0a)

El nombre del directorio no tiene importancia, pero en estos ejercicios nos referiremos a √©l como el directorio Shared.git o simplemente como el directorio compartido.

Al asignar al directorio el nombre Shared.git se sigue la larga tradici√≥n de asignar a los repositorios vac√≠os un nombre que finaliza en .git para distinguirlos de los √°rboles de trabajo. Se trata de una convenci√≥n, no de un requisito.

2. Ahora use el siguiente comando para crear un repositorio vac√≠o en el directorio compartido:

````
git init --bare
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/44cf00f7-4d0b-4eb4-81a7-a663e02fb104)

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/740ea381-307f-4ce4-9a18-d660a3a56f22)

üìÅ Shared.git
  > üìÅ branches (vac√≠a)
  üìÑ config
  üìÑ description
  üìÑ HEAD
  > üìÅ hooks
    üìÑ applypatch-msg.sample
    üìÑ commit-msg.sample
    üìÑ fsmonitor-watchman.sample
    üìÑ post-update.sample
    üìÑ pre-applypatch.sample
    üìÑ pre-commit.sample
    üìÑ pre-merge-commit.sample
    üìÑ prepare-commit-msg.sample
    üìÑ pre-push.sample
    üìÑ pre-rebase.sample
    üìÑ pre-receive.sample
    üìÑ push-to-checkout.sample
    üìÑ update.sample
  > üìÅ info
    üìÑ exclude
  > üìÅ objects
    > üìÅ info (vac√≠a)
    > üìÅ pack (vac√≠a)
  > üìÅ refs
    > üìÅ heads (vac√≠a)
    > üìÅ tags (vac√≠a)

3. Cuando un repositorio todav√≠a est√° vac√≠o, no se puede usar el comando git checkout para establecer el nombre de la rama predeterminada. Para realizar esta tarea, puede cambiar la rama HEAD para que apunte a otra rama; en este caso es la rama main:

````
git symbolic-ref HEAD refs/heads/main
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/8d0790d7-d8f0-4b53-b755-fa1fd750d09e)

4. El siguiente paso consiste en obtener el contenido de su repositorio en el repositorio compartido. Use estos comandos para volver al directorio del proyecto donde est√° almacenado el repositorio, configure un remoto origin y realice un env√≠o de cambios inicial:

````
cd ../Cats
git remote add origin ../Shared.git
git push origin main
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/dfb8fab0-a8ea-4c1a-abe3-d015c3c6ba2c)

Compruebe los resultados. La salida deber√≠a indicar que la operaci√≥n se ha realizado correctamente:

````
Counting objects: 12, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (8/8), done.
Writing objects: 100% (12/12), 1.07 KiB | 0 bytes/s, done.
Total 12 (delta 1), reused 0 (delta 0)
To ../Shared.git
 * [new branch]      main -> main
````

5. Quiere que push y pull usen de manera predeterminada la rama main de origin, como si se hubiera creado el repositorio clon√°ndolo. Pero primero debe indicar a Git la rama cuyo seguimiento se va a efectuar.

````
git branch --set-upstream-to origin/main
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/7490cf01-1281-4df2-ade0-6396c86628d6)

Busque esta salida:

````
Branch main set up to track remote branch main from origin.
````

Git se quejar√≠a si se intentara ejecutar este comando antes del env√≠o de cambios inicial, ya que el nuevo repositorio no tendr√≠a ramas. Git no puede realizar el seguimiento de una rama que no existe. Lo √∫nico que Git hace por debajo es buscar en .git/refs/remotes/origin un archivo denominado trunk.

### Configuraci√≥n para colaboradores

El siguiente paso es que Bob clone el repositorio vac√≠o y que Alice defina el origen en su repositorio para establecer como destino de las incorporaciones y los env√≠os de cambios el repositorio compartido.

1. Cree un directorio denominado Bob que sea un elemento del mismo nivel que el directorio del proyecto y luego vaya al directorio Bob:

````
cd ..
mkdir Bob
cd Bob
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/beec7fa8-b6ac-4602-a190-63d8cc24c8d5)

2. Ahora, clone el repositorio compartido (aseg√∫rese de incluir el punto al final del comando):

````
git clone ../Shared.git .
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/e562816e-3cd8-4500-ab45-f73067e37729)

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/7e1ac33b-a9a0-4e21-b4aa-0fc99a5e7cce)

3. Actualmente, el repositorio de Alice est√° configurado para enviar e incorporar cambios desde su propio repositorio. Use los siguientes comandos para ir al directorio Alice y cambie origin para que apunte al repositorio compartido:

````
cd ../Alice
git remote set-url origin ../Shared.git
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/ee8d469e-3b2b-4a9b-b65c-d1a7a4fd7e78)

### Inicio de la colaboraci√≥n

Ahora que Bob lo tiene todo a punto para trabajar en el sitio web, decide agregar un pie de p√°gina en la parte inferior. Vamos a asumir el rol de Bob y Alice durante unos minutos para aprender los aspectos b√°sicos de la colaboraci√≥n.

1. Comience por ir al directorio Bob y trabaje como Bob:

````
cd ../Bob
git config user.name Bob
git config user.email bob@contoso.com
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/7b496d0b-2598-400e-bdfc-7232d536ed24)

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/4149e8b3-8a43-4fb9-b101-68c38a56df9a)

2. Abra index.html y reemplace el elemento <hr> por esta l√≠nea (se encuentra al final del elemento <body>):

````
<footer><hr>Copyright (c) 2021 Contoso Cats</footer>
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/2db94ac3-ffcf-4d6b-9318-526d40e6df2a)

Luego guarde el archivo y cierre el editor.

3. Confirme los cambios e ins√©rtelos en el origen remoto:

````
git commit -a -m "Put a footer at the bottom of the page"
git push
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/714f0eb4-6056-4296-848a-b895ddbd4c21)

Compruebe los resultados. Si ve una advertencia similar a la del ejemplo siguiente, no se preocupe. Simplemente comunica a los usuarios un cambio en los comportamientos predeterminados de Git. Si quiere asegurarse de no volver a ver esta advertencia, puede ejecutar git config --global push.default simple.

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/c88b618e-214f-419c-80f4-bf203635d7bf)

````
warning: push.default is unset; its implicit value has changed in
Git 2.0 from 'matching' to 'simple'. To squelch this message
and maintain the traditional behavior, use:

  git config --global push.default matching

To squelch this message and adopt the new behavior now, use:

  git config --global push.default simple

When push.default is set to 'matching', git will push local branches
to the remote branches that already exist with the same name.

Since Git 2.0, Git defaults to the more conservative 'simple'
behavior, which only pushes the current branch to the corresponding
remote branch that 'git pull' uses to update the current branch.

See 'git help config' and search for 'push.default' for further information.
(the 'simple' mode was introduced in Git 1.7.11. Use the similar mode
'current' instead of 'simple' if you sometimes use older versions of Git)
````

4. Mientras Bob edita el sitio, Alicia tambi√©n lo hace. Ella decide agregar una barra de navegaci√≥n a la p√°gina. Esta incorporaci√≥n obliga a Alice a modificar dos archivos: index.html y site.css. Empiece por volver al directorio Alice:

````
cd ../Alice
````

5. Ahora, abra index.html e inserte la l√≠nea siguiente inmediatamente despu√©s de la etiqueta <body>, en la l√≠nea 8:

````
<nav><a href="./index.html">home</a></nav>
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/ae6edf95-31c4-4cc7-acb2-d9c5ea958347)

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/aa82711f-db18-463b-81fb-ed442288a2cc)

Luego guarde el archivo y cierre el editor.

6. Abra site.css en la carpeta CSS y agregue la l√≠nea siguiente en la parte inferior:

````
nav { background-color: #C0D8DF; }
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/77714452-62c5-40f5-b33d-11732ae06c7d)

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/59db3e65-9592-43f6-ae2d-fd616e8443d0)

Guarde el archivo y cierre el editor.

7. Ahora imagine que Alice recibe un correo electr√≥nico de Bob en el que le dice que ha hecho cambios en el sitio. Alice decide extraer los cambios de Bob antes de confirmarlos. (Si Alice ya hubiera confirmado los cambios, tendr√≠an otro problema que trataremos en otro m√≥dulo). Alice ejecuta este comando:

````
git pull
````

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/0c0ebc03-a1e4-4b3b-86b6-ca667a87837c)
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/521829ee-56fd-413c-be54-93d7374cc6ef)

Compruebe los resultados. Por la salida, parece que Git ha evitado un problema:

````
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 3 (delta 2), reused 0 (delta 0)
Unpacking objects: 100% (3/3), done.
From ../Shared
   843d142..2cf6cbf  main     -> origin/main
Updating 843d142..2cf6cbf
error: Your local changes to the following files would be overwritten by merge:
        index.html
Please commit your changes or stash them before you can merge.
Aborting
````

Git advierte que la incorporaci√≥n de cambios sobrescribir√≠a la versi√≥n de Alice de index.html y se perder√≠an sus cambios. Esto se debe a que Bob tambi√©n ha modificado index.html. Si Alice no hubiera cambiado index.html, Git habr√≠a confirmado la combinaci√≥n.

8. Use un comando git diff para ver qu√© cambios ha realizado Bob en index.html:

````
git diff origin -- index.html
````

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/0b7e04c3-37bc-42e8-aa19-b541f8f3cccb)

9. Compruebe los resultados. Por la salida, es evidente que los cambios de Alice y los de Bob no se superponen. Ahora Alice puede guardar provisionalmente sus cambios.

git stash guarda el estado del √°rbol de trabajo y el √≠ndice mediante un par de confirmaciones temporales. Piense en el almacenamiento provisional como una manera de guardar el trabajo actual mientras hace otra cosa, sin tener que realizar una confirmaci√≥n "real" ni afectar al historial del repositorio.

En realidad, Alice deber√≠a haber confirmado o guardado provisionalmente sus cambios antes de intentar incorporar cambios. La incorporaci√≥n de cambios a un √°rbol de trabajo "sucio" es algo arriesgado, ya que puede provocar incidencias m√°s complejas de subsanar.

Use el siguiente comando para guardar provisionalmente los cambios de Alice:

````
git stash
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/0f6fc7c9-0e21-4694-9df3-89a1720250b8)

Compruebe los resultados. Deber√≠an parecerse a los de este ejemplo:

````
Saved working directory and index state WIP on main: 95bbc3b Change background color to light blue
HEAD is now at 95bbc3b Change background color to light blue
````

10. Ahora Alice puede incorporar los cambios con seguridad, despu√©s de lo cual puede "sacar" los cambios guardados provisionalmente, que est√°n organizados como una pila. (De hecho, git stash es una forma abreviada de git stash push. Es muy similar a la pila donde se colocan las facturas que a√∫n no se han podido pagar). Ejecute estos comandos:

````
git pull
git stash pop
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/e6db0038-4fc2-474f-ba0c-29dc7fdf4c7e)

Los cambios guardados provisionalmente se combinan al extraerlos. Si los cambios se superponen, podr√≠a haber un conflicto. Puede obtener informaci√≥n sobre c√≥mo resolver esas situaciones en un m√≥dulo de Git m√°s avanzado de Microsoft Learn.

Compruebe los resultados. Alice deber√≠a ver esta salida, que le permite saber que la combinaci√≥n se ha realizado correctamente y que los cambios est√°n de vuelta, aunque a√∫n no se hayan almacenado provisionalmente para su confirmaci√≥n:

````
Auto-merging index.html
On branch main
Your branch is up-to-date with 'origin/main'.
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

        modified:   CSS/site.css
        modified:   index.html

no changes added to commit (use "git add" and/or "git commit -a")
Dropped refs/stash@{0} (0cfb7b75d56611d9fc6a6ab660a51f5582b8d9c5)
````

En este punto Alice puede seguir trabajando o simplemente confirmar y enviar los cambios. Vamos a hacer otro cambio como Alice: asignar a los pies de p√°gina el mismo estilo que a las barras de navegaci√≥n.

11. Abra site.css en la carpeta CSS y reemplace la tercera l√≠nea (la que aplica estilo a los elementos <nav>) por esta regla CSS compartida. Luego, como de costumbre, guarde los cambios y cierre el editor.

````
nav, footer { background-color: #C0D8DF; }
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/eb6d7a5d-dd6e-496f-9c43-adab237e832f)

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/8dae99ce-e583-47e3-983b-ce51f92fb37b)

12. Ahora confirme los cambios y env√≠elos al repositorio compartido:

````
git commit -a -m "Stylize the nav bar"
git push
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/f55d5191-2503-44ae-b385-5ccf01cc8ff5)

El sitio actualizado est√° ahora en el repositorio compartido.

13. Para finalizar, vuelva al directorio del proyecto y realice una incorporaci√≥n de cambios:

````
cd ../Cats
git pull
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/93600192-1673-4be3-83a6-25c74769da89)

14. Abra index.html (el que se encuentra en el directorio del proyecto) para confirmar que los cambios realizados por Bob y Alice est√°n presentes en el repositorio local. Compruebe que index.html tiene el c√≥digo m√°s actualizado:

````
<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <title>Our Feline Friends</title>
    <link rel="stylesheet" href="CSS/site.css">
  </head>
  <body>
    <nav><a href="./index.html">home</a></nav>
    <h1>Our Feline Friends</h1>
    <p>Eventually we will put cat pictures here.</p>
    <footer><hr>Copyright (c) 2021 Contoso Cats</footer>
  </body>
</html>
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/d3c20013-ef62-48b1-b133-66a370b16654)

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/b7ff03f2-1486-401e-9619-c2b76648d4c3)

15. En este momento, su repositorio y el de Alice est√°n sincronizados, pero el de Bob no lo est√°. Para finalizar, actualice tambi√©n el de Bob:

````
cd ../Bob
git pull
````
![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/5626f3d9-8755-4b2c-ac7b-7907bcc837fd)

Los tres repositorios ya est√°n alineados. El repositorio compartido es el √∫nico origen de confianza para todos los usuarios, y todos los env√≠os de cambios e incorporaciones se dirigen a √©l.

Si tiene curiosidad por el aspecto del sitio web, aqu√≠ se muestra una vista previa:

![image](https://github.com/shimadasoftware/Learning-Git-and-GitHub/assets/73977456/9c3a816d-0501-4f60-b81c-39fd2ed4c980)

Si quiere, puede descargar los archivos para obtener una versi√≥n preliminar local de ellos:

1. Comprima la carpeta Cats:

````
cd ..
zip -r Cats.zip Cats
````

2. Descargue el archivo ZIP:

````
download Cats.zip
````

3. Ahora, descomprima el archivo en la m√°quina local y abra index.html para verlo por s√≠ mismo.

### Prueba de conocimientos

1. ¬øCu√°l es la principal ventaja de la naturaleza distribuida de Git? 
    - Eliminaci√≥n de versiones anteriores de un proyecto o archivo para saber que se est√° trabajando solo con el archivo o los datos m√°s recientes. 
    
    - Git combina autom√°ticamente los cambios guardados de varios autores remotos en un √∫nico repositorio de proyecto.
  
      ‚úÖ Correcto. Correcto. La naturaleza distribuida de Git ayuda a todos los colaboradores a garantizar y mantener la validez del contenido del proyecto.
  
    - Varios colaboradores remotos pueden trabajar juntos en un proyecto sin miedo a sobrescribir el trabajo de los dem√°s. Los colaboradores pueden comprobar los cambios de otro colaborador antes de combinarlos con los suyos.
  
    - Git distribuye archivos y una estructura de carpetas a la m√°quina de cada colaborador por medio de una red de √°rea extensa para mantener la seguridad. Esta arquitectura proporciona un almacenamiento de datos muy seguro y garantiza que los datos del repositorio del proyecto no se puedan da√±ar.

2. Cuando un usuario de Git copia un repositorio, ¬øqu√© t√©rmino describe la referencia que Git configura para el repositorio original? 
    
    - origen
  
    - repo
  
    - Conexi√≥n remota

      ‚úÖ Correcto. Al clonar (copiar) un repositorio, Git crea una referencia al repositorio original denominada "remoto". Git usa el nombre "origen" para referirse al repositorio remoto.
  
4. ¬øQu√© comando de Git hace una copia de un repositorio existente? 
  
    - git clone <repo-name>
  
    - git clone <repo-path>
  
      ‚úÖ Correcto. El comando git clone toma una direcci√≥n URL o una ruta de acceso a un repositorio existente como par√°metro.
  
    - git copy <repo-name>

5. ¬øQu√© comando de Git se puede usar para guardar los cambios actuales sin usar una solicitud de incorporaci√≥n de cambios?
  
    - git stash
  
      ‚úÖ Correcto. El comando git stash guarda el estado del √°rbol de trabajo y el √≠ndice mediante la realizaci√≥n de un par de confirmaciones temporales. Este tipo de proceso de guardar no afecta al historial del repositorio.
  
    - git clone <repo-path>
  
    - git copy <repo-name>

6. Imagine que tiene un proyecto con diez archivos en la rama de trabajo local del repositorio. Recientemente ha actualizado tres de los archivos: toc.yml, intro.txt y exercise.json. Ahora quiere crear una solicitud de incorporaci√≥n de cambios solo para los cambios del archivo JSON. ¬øQu√© conjunto de comandos de Git debe usar para crear la solicitud de incorporaci√≥n de cambios solo de esos cambios? 
  
    - ````
      git add .
      git commit -m "my changes for the exercise"
      git push origin <working-branch>
      ````
  
    - ````
      git add exercise.json
      git commit -m "my changes for the exercise"
      git push origin <working-branch>
      ````

      ‚úÖ Correcto. Para enviar todos los cambios actuales, especifique . despu√©s de git add. Para enviar los cambios de un solo archivo, escriba el nombre de archivo espec√≠fico.

      
    - ````
      git add exercise
      git commit -m "my changes for the exercise"
      git push remote <working-branch>
      ````
